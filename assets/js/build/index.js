(()=>{"use strict";var e={338:(e,t,n)=>{var r=n(795);t.H=r.createRoot,r.hydrateRoot},795:e=>{e.exports=window.ReactDOM}},t={};function n(r){var s=t[r];if(void 0!==s)return s.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};n.r(r),n.d(r,{hasBrowserEnv:()=>Re,hasStandardBrowserEnv:()=>Ne,hasStandardBrowserWebWorkerEnv:()=>Ce,navigator:()=>Oe,origin:()=>Te});const s=window.React;var o=n.n(s),a=n(338);async function i(e,t="GET",n=null,r={}){const s=window.hrscChatVars?.restUrl||"/wp-json/hrsc/v1",o=new URL(`${s}${e}`);"GET"===t&&r&&"object"==typeof r&&Object.entries(r).forEach((([e,t])=>{null!=t&&o.searchParams.append(e,t)}));const a={"Content-Type":"application/json"};window.hrscChatVars?.nonce&&(a["X-WP-Nonce"]=window.hrscChatVars.nonce);const i=await fetch(o.toString(),{method:t,headers:a,body:n&&"GET"!==t?JSON.stringify(n):null,credentials:"include"});let l;try{l=await i.json()}catch(e){throw new Error("Invalid server response.")}if(!i.ok)throw new Error(l.message||"Request failed");return l}const l=e=>{const[t,n]=(0,s.useState)([]),[r,o]=(0,s.useState)(!0),[a,l]=(0,s.useState)(null);return(0,s.useEffect)((()=>{(async()=>{if(e){o(!0);try{let t={};e.isHR||(t={token:e.token,email:e.email,first_name:e.firstName});const r=await i("/support-cases","GET",null,t);n(r)}catch(e){console.error("Failed to load support cases:",e),l("Failed to load cases")}finally{o(!1)}}})()}),[e]),{cases:t,loading:r,error:a}},c=(0,s.createContext)(),u="hrsc_session",d=({children:e})=>{const[t,n]=(0,s.useState)((()=>{try{const e=localStorage.getItem(u);return e?JSON.parse(e):null}catch{return null}})),[r,o]=(0,s.useState)(!1);return(0,s.useEffect)((()=>{t&&localStorage.setItem(u,JSON.stringify(t)),o(!0)}),[t]),(0,s.createElement)(c.Provider,{value:{session:t,updateSession:e=>n(e),ready:r}},e)},f=c,m=({selectedCaseId:e,onSelectCase:t})=>{const{session:n}=(0,s.useContext)(f),{cases:r,loading:o,error:a}=l(n);return(0,s.createElement)("aside",{className:"eyeRUPqX"},(0,s.createElement)("h2",{className:"JmCn3rEF"},"Support Cases"),o&&(0,s.createElement)("p",{className:"n_qzFVJi"},"Loadingâ€¦"),a&&(0,s.createElement)("p",{className:"Al9YmQdH"},a),(0,s.createElement)("ul",{className:"bO43PUGK"},r.map((n=>(0,s.createElement)("li",{key:n.id,onClick:()=>t(n.id),className:"VmHJTL8T "+(n.id===e?"fs9572h4":"")},(0,s.createElement)("div",{className:"dvjmpRyW"},n.title),(0,s.createElement)("div",{className:"CF0igzd3"},n.status))))))},p=({caseId:e,refreshMessages:t})=>{const[n,r]=(0,s.useState)(""),[o,a]=(0,s.useState)(!1),{session:l}=(0,s.useContext)(f),c=(0,s.useRef)(null);(0,s.useEffect)((()=>{c.current?.focus()}),[e]);const u=()=>{const e=c.current;e&&(e.style.height="auto",e.style.height=e.scrollHeight+"px")},d=async s=>{if(s.preventDefault(),n.trim()){a(!0);try{await i(`/support-cases/${e}/messages`,"POST",{message:n,token:l.token,email:l.email,first_name:l.firstName,website:""}),r(""),await t(e,l),c.current?.focus(),u()}catch(e){alert("Failed to send message: "+e.message)}finally{a(!1)}}};return(0,s.createElement)("form",{onSubmit:d,className:"JwsTxRQf"},(0,s.createElement)("div",{className:"f2dEV9FL"},(0,s.createElement)("textarea",{ref:c,value:n,onChange:e=>{r(e.target.value),u()},onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),d(e))},placeholder:"Type your message...",className:"KuTmNJtV",rows:1}),(0,s.createElement)("button",{type:"submit",disabled:o||!n.trim(),"aria-label":"Send message",className:"rkM4QzRH"},(0,s.createElement)("svg",{width:"24",height:"24",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,s.createElement)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.1918 8.90615C15.6381 8.45983 16.3618 8.45983 16.8081 8.90615L21.9509 14.049C22.3972 14.4953 22.3972 15.2189 21.9509 15.6652C21.5046 16.1116 20.781 16.1116 20.3347 15.6652L17.1428 12.4734V22.2857C17.1428 22.9169 16.6311 23.4286 15.9999 23.4286C15.3688 23.4286 14.8571 22.9169 14.8571 22.2857V12.4734L11.6652 15.6652C11.2189 16.1116 10.4953 16.1116 10.049 15.6652C9.60265 15.2189 9.60265 14.4953 10.049 14.049L15.1918 8.90615Z",fill:"currentColor"})))))};function h(e,t){return function(){return e.apply(t,arguments)}}const{toString:y}=Object.prototype,{getPrototypeOf:g}=Object,{iterator:b,toStringTag:E}=Symbol,w=(v=Object.create(null),e=>{const t=y.call(e);return v[t]||(v[t]=t.slice(8,-1).toLowerCase())});var v;const S=e=>(e=e.toLowerCase(),t=>w(t)===e),R=e=>t=>typeof t===e,{isArray:O}=Array,N=R("undefined"),C=S("ArrayBuffer"),T=R("string"),x=R("function"),A=R("number"),k=e=>null!==e&&"object"==typeof e,j=e=>{if("object"!==w(e))return!1;const t=g(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||E in e||b in e)},F=S("Date"),P=S("File"),L=S("Blob"),U=S("FileList"),_=S("URLSearchParams"),[B,D,I,M]=["ReadableStream","Request","Response","Headers"].map(S);function q(e,t,{allOwnKeys:n=!1}={}){if(null==e)return;let r,s;if("object"!=typeof e&&(e=[e]),O(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{const s=n?Object.getOwnPropertyNames(e):Object.keys(e),o=s.length;let a;for(r=0;r<o;r++)a=s[r],t.call(null,e[a],a,e)}}function z(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,s=n.length;for(;s-- >0;)if(r=n[s],t===r.toLowerCase())return r;return null}const H="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,J=e=>!N(e)&&e!==H,W=(V="undefined"!=typeof Uint8Array&&g(Uint8Array),e=>V&&e instanceof V);var V;const K=S("HTMLFormElement"),$=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),X=S("RegExp"),G=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};q(n,((n,s)=>{let o;!1!==(o=t(n,s,e))&&(r[s]=o||n)})),Object.defineProperties(e,r)},Q=S("AsyncFunction"),Y=(Z="function"==typeof setImmediate,ee=x(H.postMessage),Z?setImmediate:ee?(te=`axios@${Math.random()}`,ne=[],H.addEventListener("message",(({source:e,data:t})=>{e===H&&t===te&&ne.length&&ne.shift()()}),!1),e=>{ne.push(e),H.postMessage(te,"*")}):e=>setTimeout(e));var Z,ee,te,ne;const re="undefined"!=typeof queueMicrotask?queueMicrotask.bind(H):"undefined"!=typeof process&&process.nextTick||Y,se={isArray:O,isArrayBuffer:C,isBuffer:function(e){return null!==e&&!N(e)&&null!==e.constructor&&!N(e.constructor)&&x(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||x(e.append)&&("formdata"===(t=w(e))||"object"===t&&x(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&C(e.buffer),t},isString:T,isNumber:A,isBoolean:e=>!0===e||!1===e,isObject:k,isPlainObject:j,isReadableStream:B,isRequest:D,isResponse:I,isHeaders:M,isUndefined:N,isDate:F,isFile:P,isBlob:L,isRegExp:X,isFunction:x,isStream:e=>k(e)&&x(e.pipe),isURLSearchParams:_,isTypedArray:W,isFileList:U,forEach:q,merge:function e(){const{caseless:t}=J(this)&&this||{},n={},r=(r,s)=>{const o=t&&z(n,s)||s;j(n[o])&&j(r)?n[o]=e(n[o],r):j(r)?n[o]=e({},r):O(r)?n[o]=r.slice():n[o]=r};for(let e=0,t=arguments.length;e<t;e++)arguments[e]&&q(arguments[e],r);return n},extend:(e,t,n,{allOwnKeys:r}={})=>(q(t,((t,r)=>{n&&x(t)?e[r]=h(t,n):e[r]=t}),{allOwnKeys:r}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let s,o,a;const i={};if(t=t||{},null==e)return t;do{for(s=Object.getOwnPropertyNames(e),o=s.length;o-- >0;)a=s[o],r&&!r(a,e,t)||i[a]||(t[a]=e[a],i[a]=!0);e=!1!==n&&g(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:w,kindOfTest:S,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(O(e))return e;let t=e.length;if(!A(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[b]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:K,hasOwnProperty:$,hasOwnProp:$,reduceDescriptors:G,freezeMethods:e=>{G(e,((t,n)=>{if(x(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];x(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return O(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:z,global:H,isContextDefined:J,isSpecCompliantForm:function(e){return!!(e&&x(e.append)&&"FormData"===e[E]&&e[b])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(k(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const s=O(e)?[]:{};return q(e,((e,t)=>{const o=n(e,r+1);!N(o)&&(s[t]=o)})),t[r]=void 0,s}}return e};return n(e,0)},isAsyncFn:Q,isThenable:e=>e&&(k(e)||x(e))&&x(e.then)&&x(e.catch),setImmediate:Y,asap:re,isIterable:e=>null!=e&&x(e[b])};function oe(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}se.inherits(oe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:se.toJSONObject(this.config),code:this.code,status:this.status}}});const ae=oe.prototype,ie={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{ie[e]={value:e}})),Object.defineProperties(oe,ie),Object.defineProperty(ae,"isAxiosError",{value:!0}),oe.from=(e,t,n,r,s,o)=>{const a=Object.create(ae);return se.toFlatObject(e,a,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),oe.call(a,e.message,t,n,r,s),a.cause=e,a.name=e.name,o&&Object.assign(a,o),a};const le=oe;function ce(e){return se.isPlainObject(e)||se.isArray(e)}function ue(e){return se.endsWith(e,"[]")?e.slice(0,-2):e}function de(e,t,n){return e?e.concat(t).map((function(e,t){return e=ue(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const fe=se.toFlatObject(se,{},null,(function(e){return/^is[A-Z]/.test(e)})),me=function(e,t,n){if(!se.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=se.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!se.isUndefined(t[e])}))).metaTokens,s=n.visitor||c,o=n.dots,a=n.indexes,i=(n.Blob||"undefined"!=typeof Blob&&Blob)&&se.isSpecCompliantForm(t);if(!se.isFunction(s))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(se.isDate(e))return e.toISOString();if(!i&&se.isBlob(e))throw new le("Blob is not supported. Use a Buffer instead.");return se.isArrayBuffer(e)||se.isTypedArray(e)?i&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,s){let i=e;if(e&&!s&&"object"==typeof e)if(se.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(se.isArray(e)&&function(e){return se.isArray(e)&&!e.some(ce)}(e)||(se.isFileList(e)||se.endsWith(n,"[]"))&&(i=se.toArray(e)))return n=ue(n),i.forEach((function(e,r){!se.isUndefined(e)&&null!==e&&t.append(!0===a?de([n],r,o):null===a?n:n+"[]",l(e))})),!1;return!!ce(e)||(t.append(de(s,n,o),l(e)),!1)}const u=[],d=Object.assign(fe,{defaultVisitor:c,convertValue:l,isVisitable:ce});if(!se.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!se.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),se.forEach(n,(function(n,o){!0===(!(se.isUndefined(n)||null===n)&&s.call(t,n,se.isString(o)?o.trim():o,r,d))&&e(n,r?r.concat(o):[o])})),u.pop()}}(e),t};function pe(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function he(e,t){this._pairs=[],e&&me(e,this,t)}const ye=he.prototype;ye.append=function(e,t){this._pairs.push([e,t])},ye.toString=function(e){const t=e?function(t){return e.call(this,t,pe)}:pe;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const ge=he;function be(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Ee(e,t,n){if(!t)return e;const r=n&&n.encode||be;se.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let o;if(o=s?s(t,n):se.isURLSearchParams(t)?t.toString():new ge(t,n).toString(r),o){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}const we=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){se.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},ve={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Se={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:ge,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Re="undefined"!=typeof window&&"undefined"!=typeof document,Oe="object"==typeof navigator&&navigator||void 0,Ne=Re&&(!Oe||["ReactNative","NativeScript","NS"].indexOf(Oe.product)<0),Ce="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,Te=Re&&window.location.href||"http://localhost",xe={...r,...Se},Ae=function(e){function t(e,n,r,s){let o=e[s++];if("__proto__"===o)return!0;const a=Number.isFinite(+o),i=s>=e.length;return o=!o&&se.isArray(r)?r.length:o,i?(se.hasOwnProp(r,o)?r[o]=[r[o],n]:r[o]=n,!a):(r[o]&&se.isObject(r[o])||(r[o]=[]),t(e,n,r[o],s)&&se.isArray(r[o])&&(r[o]=function(e){const t={},n=Object.keys(e);let r;const s=n.length;let o;for(r=0;r<s;r++)o=n[r],t[o]=e[o];return t}(r[o])),!a)}if(se.isFormData(e)&&se.isFunction(e.entries)){const n={};return se.forEachEntry(e,((e,r)=>{t(function(e){return se.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null},ke={transitional:ve,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,s=se.isObject(e);if(s&&se.isHTMLForm(e)&&(e=new FormData(e)),se.isFormData(e))return r?JSON.stringify(Ae(e)):e;if(se.isArrayBuffer(e)||se.isBuffer(e)||se.isStream(e)||se.isFile(e)||se.isBlob(e)||se.isReadableStream(e))return e;if(se.isArrayBufferView(e))return e.buffer;if(se.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return me(e,new xe.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return xe.isNode&&se.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((o=se.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return me(o?{"files[]":e}:e,t&&new t,this.formSerializer)}}return s||r?(t.setContentType("application/json",!1),function(e){if(se.isString(e))try{return(0,JSON.parse)(e),se.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||ke.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(se.isResponse(e)||se.isReadableStream(e))return e;if(e&&se.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(e){if(n){if("SyntaxError"===e.name)throw le.from(e,le.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:xe.classes.FormData,Blob:xe.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};se.forEach(["delete","get","head","post","put","patch"],(e=>{ke.headers[e]={}}));const je=ke,Fe=se.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Pe=Symbol("internals");function Le(e){return e&&String(e).trim().toLowerCase()}function Ue(e){return!1===e||null==e?e:se.isArray(e)?e.map(Ue):String(e)}function _e(e,t,n,r,s){return se.isFunction(r)?r.call(this,t,n):(s&&(t=n),se.isString(t)?se.isString(r)?-1!==t.indexOf(r):se.isRegExp(r)?r.test(t):void 0:void 0)}class Be{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function s(e,t,n){const s=Le(t);if(!s)throw new Error("header name must be a non-empty string");const o=se.findKey(r,s);(!o||void 0===r[o]||!0===n||void 0===n&&!1!==r[o])&&(r[o||t]=Ue(e))}const o=(e,t)=>se.forEach(e,((e,n)=>s(e,n,t)));if(se.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(se.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))o((e=>{const t={};let n,r,s;return e&&e.split("\n").forEach((function(e){s=e.indexOf(":"),n=e.substring(0,s).trim().toLowerCase(),r=e.substring(s+1).trim(),!n||t[n]&&Fe[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t);else if(se.isObject(e)&&se.isIterable(e)){let n,r,s={};for(const t of e){if(!se.isArray(t))throw TypeError("Object iterator must return a key-value pair");s[r=t[0]]=(n=s[r])?se.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}o(s,t)}else null!=e&&s(t,e,n);return this}get(e,t){if(e=Le(e)){const n=se.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(se.isFunction(t))return t.call(this,e,n);if(se.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Le(e)){const n=se.findKey(this,e);return!(!n||void 0===this[n]||t&&!_e(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function s(e){if(e=Le(e)){const s=se.findKey(n,e);!s||t&&!_e(0,n[s],s,t)||(delete n[s],r=!0)}}return se.isArray(e)?e.forEach(s):s(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const s=t[n];e&&!_e(0,this[s],s,e,!0)||(delete this[s],r=!0)}return r}normalize(e){const t=this,n={};return se.forEach(this,((r,s)=>{const o=se.findKey(n,s);if(o)return t[o]=Ue(r),void delete t[s];const a=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(s):String(s).trim();a!==s&&delete t[s],t[a]=Ue(r),n[a]=!0})),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return se.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&se.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([e,t])=>e+": "+t)).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach((e=>n.set(e))),n}static accessor(e){const t=(this[Pe]=this[Pe]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=Le(e);t[r]||(function(e,t){const n=se.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,s){return this[r].call(this,t,e,n,s)},configurable:!0})}))}(n,e),t[r]=!0)}return se.isArray(e)?e.forEach(r):r(e),this}}Be.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),se.reduceDescriptors(Be.prototype,(({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[n]=e}}})),se.freezeMethods(Be);const De=Be;function Ie(e,t){const n=this||je,r=t||n,s=De.from(r.headers);let o=r.data;return se.forEach(e,(function(e){o=e.call(n,o,s.normalize(),t?t.status:void 0)})),s.normalize(),o}function Me(e){return!(!e||!e.__CANCEL__)}function qe(e,t,n){le.call(this,null==e?"canceled":e,le.ERR_CANCELED,t,n),this.name="CanceledError"}se.inherits(qe,le,{__CANCEL__:!0});const ze=qe;function He(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new le("Request failed with status code "+n.status,[le.ERR_BAD_REQUEST,le.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const Je=(e,t,n=3)=>{let r=0;const s=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s,o=0,a=0;return t=void 0!==t?t:1e3,function(i){const l=Date.now(),c=r[a];s||(s=l),n[o]=i,r[o]=l;let u=a,d=0;for(;u!==o;)d+=n[u++],u%=e;if(o=(o+1)%e,o===a&&(a=(a+1)%e),l-s<t)return;const f=c&&l-c;return f?Math.round(1e3*d/f):void 0}}(50,250);return function(e,t){let n,r,s=0,o=1e3/t;const a=(t,o=Date.now())=>{s=o,n=null,r&&(clearTimeout(r),r=null),e.apply(null,t)};return[(...e)=>{const t=Date.now(),i=t-s;i>=o?a(e,t):(n=e,r||(r=setTimeout((()=>{r=null,a(n)}),o-i)))},()=>n&&a(n)]}((n=>{const o=n.loaded,a=n.lengthComputable?n.total:void 0,i=o-r,l=s(i);r=o,e({loaded:o,total:a,progress:a?o/a:void 0,bytes:i,rate:l||void 0,estimated:l&&a&&o<=a?(a-o)/l:void 0,event:n,lengthComputable:null!=a,[t?"download":"upload"]:!0})}),n)},We=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Ve=e=>(...t)=>se.asap((()=>e(...t))),Ke=xe.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,xe.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(xe.origin),xe.navigator&&/(msie|trident)/i.test(xe.navigator.userAgent)):()=>!0,$e=xe.hasStandardBrowserEnv?{write(e,t,n,r,s,o){const a=[e+"="+encodeURIComponent(t)];se.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),se.isString(r)&&a.push("path="+r),se.isString(s)&&a.push("domain="+s),!0===o&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Xe(e,t,n){let r=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(r||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Ge=e=>e instanceof De?{...e}:e;function Qe(e,t){t=t||{};const n={};function r(e,t,n,r){return se.isPlainObject(e)&&se.isPlainObject(t)?se.merge.call({caseless:r},e,t):se.isPlainObject(t)?se.merge({},t):se.isArray(t)?t.slice():t}function s(e,t,n,s){return se.isUndefined(t)?se.isUndefined(e)?void 0:r(void 0,e,0,s):r(e,t,0,s)}function o(e,t){if(!se.isUndefined(t))return r(void 0,t)}function a(e,t){return se.isUndefined(t)?se.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function i(n,s,o){return o in t?r(n,s):o in e?r(void 0,n):void 0}const l={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:i,headers:(e,t,n)=>s(Ge(e),Ge(t),0,!0)};return se.forEach(Object.keys(Object.assign({},e,t)),(function(r){const o=l[r]||s,a=o(e[r],t[r],r);se.isUndefined(a)&&o!==i||(n[r]=a)})),n}const Ye=e=>{const t=Qe({},e);let n,{data:r,withXSRFToken:s,xsrfHeaderName:o,xsrfCookieName:a,headers:i,auth:l}=t;if(t.headers=i=De.from(i),t.url=Ee(Xe(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),se.isFormData(r))if(xe.hasStandardBrowserEnv||xe.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(!1!==(n=i.getContentType())){const[e,...t]=n?n.split(";").map((e=>e.trim())).filter(Boolean):[];i.setContentType([e||"multipart/form-data",...t].join("; "))}if(xe.hasStandardBrowserEnv&&(s&&se.isFunction(s)&&(s=s(t)),s||!1!==s&&Ke(t.url))){const e=o&&a&&$e.read(a);e&&i.set(o,e)}return t},Ze="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){const r=Ye(e);let s=r.data;const o=De.from(r.headers).normalize();let a,i,l,c,u,{responseType:d,onUploadProgress:f,onDownloadProgress:m}=r;function p(){c&&c(),u&&u(),r.cancelToken&&r.cancelToken.unsubscribe(a),r.signal&&r.signal.removeEventListener("abort",a)}let h=new XMLHttpRequest;function y(){if(!h)return;const r=De.from("getAllResponseHeaders"in h&&h.getAllResponseHeaders());He((function(e){t(e),p()}),(function(e){n(e),p()}),{data:d&&"text"!==d&&"json"!==d?h.response:h.responseText,status:h.status,statusText:h.statusText,headers:r,config:e,request:h}),h=null}h.open(r.method.toUpperCase(),r.url,!0),h.timeout=r.timeout,"onloadend"in h?h.onloadend=y:h.onreadystatechange=function(){h&&4===h.readyState&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))&&setTimeout(y)},h.onabort=function(){h&&(n(new le("Request aborted",le.ECONNABORTED,e,h)),h=null)},h.onerror=function(){n(new le("Network Error",le.ERR_NETWORK,e,h)),h=null},h.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const s=r.transitional||ve;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new le(t,s.clarifyTimeoutError?le.ETIMEDOUT:le.ECONNABORTED,e,h)),h=null},void 0===s&&o.setContentType(null),"setRequestHeader"in h&&se.forEach(o.toJSON(),(function(e,t){h.setRequestHeader(t,e)})),se.isUndefined(r.withCredentials)||(h.withCredentials=!!r.withCredentials),d&&"json"!==d&&(h.responseType=r.responseType),m&&([l,u]=Je(m,!0),h.addEventListener("progress",l)),f&&h.upload&&([i,c]=Je(f),h.upload.addEventListener("progress",i),h.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(a=t=>{h&&(n(!t||t.type?new ze(null,e,h):t),h.abort(),h=null)},r.cancelToken&&r.cancelToken.subscribe(a),r.signal&&(r.signal.aborted?a():r.signal.addEventListener("abort",a)));const g=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);g&&-1===xe.protocols.indexOf(g)?n(new le("Unsupported protocol "+g+":",le.ERR_BAD_REQUEST,e)):h.send(s||null)}))},et=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const s=function(e){if(!n){n=!0,a();const t=e instanceof Error?e:this.reason;r.abort(t instanceof le?t:new ze(t instanceof Error?t.message:t))}};let o=t&&setTimeout((()=>{o=null,s(new le(`timeout ${t} of ms exceeded`,le.ETIMEDOUT))}),t);const a=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(s):e.removeEventListener("abort",s)})),e=null)};e.forEach((e=>e.addEventListener("abort",s)));const{signal:i}=r;return i.unsubscribe=()=>se.asap(a),i}},tt=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,s=0;for(;s<n;)r=s+t,yield e.slice(s,r),s=r},nt=(e,t,n,r)=>{const s=async function*(e,t){for await(const n of async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:n}=await t.read();if(e)break;yield n}}finally{await t.cancel()}}(e))yield*tt(n,t)}(e,t);let o,a=0,i=e=>{o||(o=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await s.next();if(t)return i(),void e.close();let o=r.byteLength;if(n){let e=a+=o;n(e)}e.enqueue(new Uint8Array(r))}catch(e){throw i(e),e}},cancel:e=>(i(e),s.return())},{highWaterMark:2})},rt="function"==typeof fetch&&"function"==typeof Request&&"function"==typeof Response,st=rt&&"function"==typeof ReadableStream,ot=rt&&("function"==typeof TextEncoder?(at=new TextEncoder,e=>at.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var at;const it=(e,...t)=>{try{return!!e(...t)}catch(e){return!1}},lt=st&&it((()=>{let e=!1;const t=new Request(xe.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),ct=st&&it((()=>se.isReadableStream(new Response("").body))),ut={stream:ct&&(e=>e.body)};var dt;rt&&(dt=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!ut[e]&&(ut[e]=se.isFunction(dt[e])?t=>t[e]():(t,n)=>{throw new le(`Response type '${e}' is not supported`,le.ERR_NOT_SUPPORT,n)})})));const ft={http:null,xhr:Ze,fetch:rt&&(async e=>{let{url:t,method:n,data:r,signal:s,cancelToken:o,timeout:a,onDownloadProgress:i,onUploadProgress:l,responseType:c,headers:u,withCredentials:d="same-origin",fetchOptions:f}=Ye(e);c=c?(c+"").toLowerCase():"text";let m,p=et([s,o&&o.toAbortSignal()],a);const h=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let y;try{if(l&&lt&&"get"!==n&&"head"!==n&&0!==(y=await(async(e,t)=>{const n=se.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(se.isBlob(e))return e.size;if(se.isSpecCompliantForm(e)){const t=new Request(xe.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return se.isArrayBufferView(e)||se.isArrayBuffer(e)?e.byteLength:(se.isURLSearchParams(e)&&(e+=""),se.isString(e)?(await ot(e)).byteLength:void 0)})(t):n})(u,r))){let e,n=new Request(t,{method:"POST",body:r,duplex:"half"});if(se.isFormData(r)&&(e=n.headers.get("content-type"))&&u.setContentType(e),n.body){const[e,t]=We(y,Je(Ve(l)));r=nt(n.body,65536,e,t)}}se.isString(d)||(d=d?"include":"omit");const s="credentials"in Request.prototype;m=new Request(t,{...f,signal:p,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:s?d:void 0});let o=await fetch(m);const a=ct&&("stream"===c||"response"===c);if(ct&&(i||a&&h)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=o[t]}));const t=se.toFiniteNumber(o.headers.get("content-length")),[n,r]=i&&We(t,Je(Ve(i),!0))||[];o=new Response(nt(o.body,65536,n,(()=>{r&&r(),h&&h()})),e)}c=c||"text";let g=await ut[se.findKey(ut,c)||"text"](o,e);return!a&&h&&h(),await new Promise(((t,n)=>{He(t,n,{data:g,headers:De.from(o.headers),status:o.status,statusText:o.statusText,config:e,request:m})}))}catch(t){if(h&&h(),t&&"TypeError"===t.name&&/Load failed|fetch/i.test(t.message))throw Object.assign(new le("Network Error",le.ERR_NETWORK,e,m),{cause:t.cause||t});throw le.from(t,t&&t.code,e,m)}})};se.forEach(ft,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}}));const mt=e=>`- ${e}`,pt=e=>se.isFunction(e)||null===e||!1===e,ht=e=>{e=se.isArray(e)?e:[e];const{length:t}=e;let n,r;const s={};for(let o=0;o<t;o++){let t;if(n=e[o],r=n,!pt(n)&&(r=ft[(t=String(n)).toLowerCase()],void 0===r))throw new le(`Unknown adapter '${t}'`);if(r)break;s[t||"#"+o]=r}if(!r){const e=Object.entries(s).map((([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build")));let n=t?e.length>1?"since :\n"+e.map(mt).join("\n"):" "+mt(e[0]):"as no adapter specified";throw new le("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function yt(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ze(null,e)}function gt(e){return yt(e),e.headers=De.from(e.headers),e.data=Ie.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),ht(e.adapter||je.adapter)(e).then((function(t){return yt(e),t.data=Ie.call(e,e.transformResponse,t),t.headers=De.from(t.headers),t}),(function(t){return Me(t)||(yt(e),t&&t.response&&(t.response.data=Ie.call(e,e.transformResponse,t.response),t.response.headers=De.from(t.response.headers))),Promise.reject(t)}))}const bt={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{bt[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const Et={};bt.transitional=function(e,t,n){function r(e,t){return"[Axios v1.9.0] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,s,o)=>{if(!1===e)throw new le(r(s," has been removed"+(t?" in "+t:"")),le.ERR_DEPRECATED);return t&&!Et[s]&&(Et[s]=!0,console.warn(r(s," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,s,o)}},bt.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};const wt={assertOptions:function(e,t,n){if("object"!=typeof e)throw new le("options must be an object",le.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const o=r[s],a=t[o];if(a){const t=e[o],n=void 0===t||a(t,o,e);if(!0!==n)throw new le("option "+o+" must be "+n,le.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new le("Unknown option "+o,le.ERR_BAD_OPTION)}},validators:bt},vt=wt.validators;class St{constructor(e){this.defaults=e||{},this.interceptors={request:new we,response:new we}}async request(e,t){try{return await this._request(e,t)}catch(e){if(e instanceof Error){let t={};Error.captureStackTrace?Error.captureStackTrace(t):t=new Error;const n=t.stack?t.stack.replace(/^.+\n/,""):"";try{e.stack?n&&!String(e.stack).endsWith(n.replace(/^.+\n.+\n/,""))&&(e.stack+="\n"+n):e.stack=n}catch(e){}}throw e}}_request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=Qe(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:s}=t;void 0!==n&&wt.assertOptions(n,{silentJSONParsing:vt.transitional(vt.boolean),forcedJSONParsing:vt.transitional(vt.boolean),clarifyTimeoutError:vt.transitional(vt.boolean)},!1),null!=r&&(se.isFunction(r)?t.paramsSerializer={serialize:r}:wt.assertOptions(r,{encode:vt.function,serialize:vt.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),wt.assertOptions(t,{baseUrl:vt.spelling("baseURL"),withXsrfToken:vt.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=s&&se.merge(s.common,s[t.method]);s&&se.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete s[e]})),t.headers=De.concat(o,s);const a=[];let i=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,a.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let u,d=0;if(!i){const e=[gt.bind(this),void 0];for(e.unshift.apply(e,a),e.push.apply(e,l),u=e.length,c=Promise.resolve(t);d<u;)c=c.then(e[d++],e[d++]);return c}u=a.length;let f=t;for(d=0;d<u;){const e=a[d++],t=a[d++];try{f=e(f)}catch(e){t.call(this,e);break}}try{c=gt.call(this,f)}catch(e){return Promise.reject(e)}for(d=0,u=l.length;d<u;)c=c.then(l[d++],l[d++]);return c}getUri(e){return Ee(Xe((e=Qe(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}se.forEach(["delete","get","head","options"],(function(e){St.prototype[e]=function(t,n){return this.request(Qe(n||{},{method:e,url:t,data:(n||{}).data}))}})),se.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,s){return this.request(Qe(s||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}St.prototype[e]=t(),St.prototype[e+"Form"]=t(!0)}));const Rt=St;class Ot{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,s){n.reason||(n.reason=new ze(e,r,s),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Ot((function(t){e=t})),cancel:e}}}const Nt=Ot,Ct={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ct).forEach((([e,t])=>{Ct[t]=e}));const Tt=Ct,xt=function e(t){const n=new Rt(t),r=h(Rt.prototype.request,n);return se.extend(r,Rt.prototype,n,{allOwnKeys:!0}),se.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(Qe(t,n))},r}(je);xt.Axios=Rt,xt.CanceledError=ze,xt.CancelToken=Nt,xt.isCancel=Me,xt.VERSION="1.9.0",xt.toFormData=me,xt.AxiosError=le,xt.Cancel=xt.CanceledError,xt.all=function(e){return Promise.all(e)},xt.spread=function(e){return function(t){return e.apply(null,t)}},xt.isAxiosError=function(e){return se.isObject(e)&&!0===e.isAxiosError},xt.mergeConfig=Qe,xt.AxiosHeaders=De,xt.formToJSON=e=>Ae(se.isHTMLForm(e)?new FormData(e):e),xt.getAdapter=ht,xt.HttpStatusCode=Tt,xt.default=xt;const At=xt,kt=({supportCaseId:e,onUploadSuccess:t})=>{const[n,r]=(0,s.useState)(!1),a=async n=>{const r=new FormData;r.append("file",n[0]);try{const n=await At.post(`/wp-json/hrsc/v1/support-cases/${e}/upload`,r,{headers:{"Content-Type":"multipart/form-data"}});n.data.success&&t(n.data)}catch(e){console.error("File upload failed:",e)}},i=o().createRef();return(0,s.createElement)("div",{onDrop:e=>{e.preventDefault(),r(!1),e.dataTransfer.files&&e.dataTransfer.files.length>0&&(a(e.dataTransfer.files),e.dataTransfer.clearData())},onDragOver:e=>{e.preventDefault(),r(!0)},onDragLeave:()=>{r(!1)},style:{border:n?"2px dashed #000":"2px dashed #ccc",padding:"20px",textAlign:"center",position:"relative"}},(0,s.createElement)("p",null,"Drag and drop a file here, or click the plus icon to upload."),(0,s.createElement)("button",{onClick:()=>{i.current.click()},style:{fontSize:"24px"}},"+"),(0,s.createElement)("input",{type:"file",ref:i,style:{display:"none"},onChange:e=>{e.target.files&&e.target.files.length>0&&a(e.target.files)}}))},jt={chatContainer:"uCAP1A1n",messagesArea:"F6C1FW6Y",messagesWrapper:"DEOYW7p0",emptyText:"BQpiuRB4",loadingText:"j6nWCkIZ",statusMessage:"iuXg4hSv",systemMessage:"dSfwQwzx",messageRow:"AOX45D9E",bubble:"UTa7UUI2",userBubble:"B1c74F32",hrBubble:"vmMReC_0",meta:"CFypJxkr",inputBar:"WY51TTm8",inputWrapper:"K6VK3Gl2"},Ft=({caseId:e,messages:t,refreshMessages:n,loading:r})=>{const{session:o}=(0,s.useContext)(f),a=(0,s.useRef)(null),[i,l]=(0,s.useState)(!1),[c,u]=(0,s.useState)(null),[d,m]=(0,s.useState)([]),h=async()=>{await n(e,o),i||l(!0)};return(0,s.useEffect)((()=>{e&&o&&(h(),(async()=>{try{const t=await fetch(`/wp-json/wp/v2/media?parent=${e}`),n=await t.json();m(n)}catch(e){console.error("Failed to load attachments",e)}})())}),[e,o]),(0,s.useEffect)((()=>{const e=setInterval((()=>{"visible"===document.visibilityState&&navigator.onLine&&h()}),1e4);return()=>clearInterval(e)}),[e,o]),(0,s.useEffect)((()=>{a.current&&a.current.scrollIntoView({behavior:"smooth"})}),[t]),(0,s.useEffect)((()=>{const e=()=>{"hidden"===document.visibilityState?u("Chat paused (tab inactive)"):navigator.onLine?u(null):u("You are offline")},t=()=>{"visible"===document.visibilityState&&u(null)};return document.addEventListener("visibilitychange",e),window.addEventListener("online",t),window.addEventListener("offline",(()=>u("You are offline"))),e(),()=>{document.removeEventListener("visibilitychange",e),window.removeEventListener("online",t),window.removeEventListener("offline",e)}}),[]),e?(0,s.createElement)("div",{className:jt.chatContainer},(0,s.createElement)("div",{className:jt.messagesArea},(0,s.createElement)("div",{className:jt.messagesWrapper},d.length>0&&(0,s.createElement)("div",{className:jt.attachments},(0,s.createElement)("h4",null,"Attachments"),(0,s.createElement)("ul",null,d.map((e=>(0,s.createElement)("li",{key:e.id},(0,s.createElement)("a",{href:e.source_url,target:"_blank",rel:"noopener noreferrer"},e.title?.rendered||"Attachment")))))),i?0===t.length?(0,s.createElement)("p",{className:jt.emptyText},"No messages yet. Start the conversation!"):null:(0,s.createElement)("p",{className:jt.loadingText},"Loading conversationâ€¦"),c&&(0,s.createElement)("div",{className:jt.statusMessage},c),t.map(((e,t)=>{if(e.is_system)return(0,s.createElement)("div",{key:t,className:jt.systemMessage},e.content);const n=e.is_hr?jt.hrBubble:jt.userBubble;return(0,s.createElement)("div",{key:t,className:jt.messageRow},(0,s.createElement)("div",{className:`${jt.bubble} ${n}`},(0,s.createElement)("p",null,e.content)))})),(0,s.createElement)("div",{ref:a}))),(0,s.createElement)("div",{className:jt.inputBar},(0,s.createElement)(kt,{supportCaseId:e,onUploadSuccess:e=>{m((t=>[...t,e]))}}),(0,s.createElement)("div",{className:jt.inputWrapper},(0,s.createElement)(p,{caseId:e,refreshMessages:n})))):(0,s.createElement)("div",{className:jt.placeholder},"Select a case to view messages")},Pt=({supportCaseId:e})=>{const[t,n]=(0,s.useState)([]);return(0,s.useEffect)((()=>{e&&(async()=>{try{const t=await At.get(`/wp-json/wp/v2/media?parent=${e}`);n(t.data)}catch(e){console.error("Failed to fetch attachments:",e)}})()}),[e]),t.length?(0,s.createElement)("div",{style:{padding:"1rem 0"}},(0,s.createElement)("h4",{style:{fontSize:"1rem",fontWeight:"bold"}},"Attachments"),(0,s.createElement)("ul",null,t.map((e=>(0,s.createElement)("li",{key:e.id},(0,s.createElement)("a",{href:e.source_url,target:"_blank",rel:"noopener noreferrer"},e.title.rendered)))))):null},Lt={container:"n_3BxnPI"},Ut=({selectedCaseId:e,onSelectCase:t})=>{const[n,r]=(0,s.useState)(e||null),{session:o}=(()=>{const{session:e,updateSession:t,ready:n}=(0,s.useContext)(f);return{session:e,updateSession:t,ready:n,isAuthenticated:!!(e?.token||e?.email&&e?.firstName)}})(),{cases:a}=l(o),{messages:c,refreshMessages:u,loading:d}=(()=>{const[e,t]=(0,s.useState)([]),[n,r]=(0,s.useState)(!1);return{messages:e,setMessages:t,refreshMessages:async(e,n)=>{if(e&&n){r(!0);try{const r=await i(`/support-cases/${e}/messages`,"GET",null,{token:n.token,email:n.email,first_name:n.firstName});t(r)}catch(e){console.error("Failed to load messages:",e)}finally{r(!1)}}},loading:n}})();return(0,s.useEffect)((()=>{const e=new URLSearchParams(window.location.search).get("case_id");e&&/^\d+$/.test(e)&&r(parseInt(e,10))}),[]),(0,s.useEffect)((()=>{!n&&a.length>0&&(r(a[0].id),t?.(a[0].id))}),[n,a,t]),o?(0,s.createElement)("div",{className:Lt.container},(0,s.createElement)(m,{onSelectCase:e=>{r(e),t?.(e)},selectedCaseId:n}),(0,s.createElement)("div",{className:Lt.main},(0,s.createElement)(Pt,{supportCaseId:n}),(0,s.createElement)(Ft,{caseId:n,messages:c,refreshMessages:u,loading:d}))):null},_t="xUuH0HF4",Bt="QaDJMTHr",Dt="Jtz3LvEa",It=({children:e})=>{const{session:t,updateSession:n,ready:r}=(0,s.useContext)(f),[o,a]=(0,s.useState)("mode"),[l,c]=(0,s.useState)({token:"",email:"",firstName:""}),[u,d]=(0,s.useState)(!0),[m,p]=(0,s.useState)("");(0,s.useEffect)((()=>{if("create"===o&&u){const e=Math.random().toString(36).substring(2,10);p(e),c((t=>({...t,token:e})))}}),[o,u]);const h=e=>{const{name:t,value:n}=e.target;c((e=>({...e,[t]:n})))};return r?t?.token||t?.email&&t?.firstName?e:(0,s.createElement)("div",{className:"kwA8rxlw"},"mode"===o?(0,s.createElement)("div",{className:"rbOkxELu"},(0,s.createElement)("h2",{className:_t},"How would you like to start?"),(0,s.createElement)("div",{className:"brFuPxMB"},(0,s.createElement)("button",{onClick:()=>a("enter"),className:Bt},"ðŸ” Enter Existing Conversation"),(0,s.createElement)("button",{onClick:()=>a("create"),className:"YHsalOAK"},"âœ¨ Create New Conversation"))):(0,s.createElement)("form",{onSubmit:async e=>{e.preventDefault();try{if("enter"===o&&(u&&l.token.trim()?n({token:l.token.trim()}):!u&&l.email&&l.firstName&&n({email:l.email.trim(),firstName:l.firstName.trim()})),"create"===o){const e=await i("/support-cases","POST",{token:u?m:void 0,email:u?"":l.email.trim(),first_name:u?"":l.firstName.trim(),anonymous:u});n(u?{token:e.token}:{email:l.email.trim(),firstName:l.firstName.trim()})}}catch(e){alert("Failed to create or authenticate session: "+e.message)}},className:"hHQJ1vAr"},(0,s.createElement)("h2",{className:_t},"Enter Your Chat Session"),(0,s.createElement)("div",{className:"VSPiyrz1"},(0,s.createElement)("label",null,(0,s.createElement)("input",{type:"radio",name:"authMode",checked:u,onChange:()=>d(!0)})," Anonymous"),(0,s.createElement)("label",null,(0,s.createElement)("input",{type:"radio",name:"authMode",checked:!u,onChange:()=>d(!1)})," ","Identified")),"enter"===o&&u&&(0,s.createElement)("div",null,(0,s.createElement)("label",null,"Access Token"),(0,s.createElement)("input",{type:"text",name:"token",value:l.token,onChange:h,className:Dt})),"enter"===o&&!u&&(0,s.createElement)(s.Fragment,null,(0,s.createElement)("div",null,(0,s.createElement)("label",null,"Email"),(0,s.createElement)("input",{type:"email",name:"email",value:l.email,onChange:h,className:Dt})),(0,s.createElement)("div",null,(0,s.createElement)("label",null,"First Name"),(0,s.createElement)("input",{type:"text",name:"firstName",value:l.firstName,onChange:h,className:Dt}))),"create"===o&&u&&(0,s.createElement)("div",null,(0,s.createElement)("label",null,"Your Access Token"),(0,s.createElement)("div",{className:"FdS6bEtK"},(0,s.createElement)("input",{type:"text",value:m,readOnly:!0,className:"jXhejRBB"}),(0,s.createElement)("button",{type:"button",onClick:()=>(async e=>{try{return await navigator.clipboard.writeText(e),!0}catch(e){return console.error("Failed to copy:",e),!1}})(m),className:"jCy26Xrv"},"Copy")),(0,s.createElement)("p",{className:"UmNIu8Qe"},"Save this token to access the conversation again.")),"create"===o&&!u&&(0,s.createElement)(s.Fragment,null,(0,s.createElement)("div",null,(0,s.createElement)("label",null,"Email"),(0,s.createElement)("input",{type:"email",name:"email",value:l.email,onChange:h,className:Dt})),(0,s.createElement)("div",null,(0,s.createElement)("label",null,"First Name"),(0,s.createElement)("input",{type:"text",name:"firstName",value:l.firstName,onChange:h,className:Dt}))),(0,s.createElement)("button",{type:"submit",className:Bt},"enter"===o?"Continue":"Start Conversation"),(0,s.createElement)("div",{className:"OsoIzHE6"},(0,s.createElement)("button",{type:"button",onClick:()=>a("mode")},"â† Back")))):null},Mt=(0,s.createContext)(),qt=({children:e})=>{const[t,n]=(0,s.useState)(null);return(0,s.createElement)(Mt.Provider,{value:{toast:t,showToast:e=>{n(e),setTimeout((()=>n(null)),3e3)}}},e,t&&(0,s.createElement)("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 bg-black text-white text-sm px-4 py-2 rounded shadow z-50"},t))},zt=()=>{const[e,t]=(0,s.useState)(null);return(0,s.createElement)(d,null,(0,s.createElement)(qt,null,(0,s.createElement)(It,null,(0,s.createElement)(Ut,{selectedCaseId:e,onSelectCase:t}))))};document.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("hr-support-chat-app");e&&(0,a.H)(e).render((0,s.createElement)(zt,null))}))})();