{"version":3,"file":"index.js","mappings":"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","sources":["webpack://hr-support-chat/./assets/js/App.jsx","webpack://hr-support-chat/./assets/js/api/apiClient.js","webpack://hr-support-chat/./assets/js/components/Chat.jsx","webpack://hr-support-chat/./assets/js/components/ChatWindow.jsx","webpack://hr-support-chat/./assets/js/components/MessageInput.jsx","webpack://hr-support-chat/./assets/js/components/SessionGate.jsx","webpack://hr-support-chat/./assets/js/components/Sidebar.jsx","webpack://hr-support-chat/./assets/js/contexts/SessionContext.jsx","webpack://hr-support-chat/./assets/js/contexts/ToastContext.jsx","webpack://hr-support-chat/./assets/js/hooks/useAuthSession.js","webpack://hr-support-chat/./assets/js/hooks/useMessages.js","webpack://hr-support-chat/./assets/js/hooks/useSupportCases.js","webpack://hr-support-chat/./assets/js/styles/Chat.module.css","webpack://hr-support-chat/./assets/js/styles/ChatWindow.module.css","webpack://hr-support-chat/./assets/js/styles/MessageInput.module.css","webpack://hr-support-chat/./assets/js/styles/SessionGate.module.css","webpack://hr-support-chat/./assets/js/styles/Sidebar.module.css","webpack://hr-support-chat/./assets/js/styles/index.css","webpack://hr-support-chat/./assets/js/utils/TokenUtils.js","webpack://hr-support-chat/./node_modules/react-dom/client.js","webpack://hr-support-chat/external window \"React\"","webpack://hr-support-chat/external window \"ReactDOM\"","webpack://hr-support-chat/webpack/bootstrap","webpack://hr-support-chat/webpack/runtime/compat get default export","webpack://hr-support-chat/webpack/runtime/define property getters","webpack://hr-support-chat/webpack/runtime/hasOwnProperty shorthand","webpack://hr-support-chat/webpack/runtime/make namespace object","webpack://hr-support-chat/./assets/js/index.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport Chat from \"./components/Chat\";\nimport SessionGate from \"./components/SessionGate\";\nimport { SessionProvider } from \"./contexts/SessionContext\";\nimport { ToastProvider } from \"./contexts/ToastContext\";\n\nconst App = () => {\n\tconst [selectedCaseId, setSelectedCaseId] = useState(null);\n\n\treturn (\n\t\t<SessionProvider>\n\t\t\t<ToastProvider>\n\t\t\t\t<SessionGate>\n\t\t\t\t\t<Chat selectedCaseId={selectedCaseId} onSelectCase={setSelectedCaseId} />\n\t\t\t\t</SessionGate>\n\t\t\t</ToastProvider>\n\t\t</SessionProvider>\n\t);\n};\n\nexport default App;\n","export async function apiFetch(path, method = \"GET\", body = null, queryParams = {}) {\n\tconst restUrl = window.hrscChatVars?.restUrl || \"/wp-json/hrsc/v1\";\n\tconst url = new URL(`${restUrl}${path}`);\n\n\t// Append query string for GET requests\n\tif (method === \"GET\" && queryParams && typeof queryParams === \"object\") {\n\t\tObject.entries(queryParams).forEach(([key, value]) => {\n\t\t\tif (value !== undefined && value !== null) {\n\t\t\t\turl.searchParams.append(key, value);\n\t\t\t}\n\t\t});\n\t}\n\n\t// Determine headers\n\tconst headers = {\n\t\t\"Content-Type\": \"application/json\"\n\t};\n\n\t// Include nonce only if user is logged in (WordPress handles this in wp_localize_script)\n\tif (window.hrscChatVars?.nonce) {\n\t\theaders[\"X-WP-Nonce\"] = window.hrscChatVars.nonce;\n\t}\n\n\t// Execute the fetch\n\tconst response = await fetch(url.toString(), {\n\t\tmethod,\n\t\theaders,\n\t\tbody: body && method !== \"GET\" ? JSON.stringify(body) : null,\n\t\tcredentials: \"include\" // important for sending auth cookies\n\t});\n\n\tlet data;\n\ttry {\n\t\tdata = await response.json();\n\t} catch (err) {\n\t\tthrow new Error(\"Invalid server response.\");\n\t}\n\n\tif (!response.ok) {\n\t\tthrow new Error(data.message || \"Request failed\");\n\t}\n\n\treturn data;\n}\n","import React, { useEffect, useState } from \"react\";\nimport Sidebar from \"./Sidebar\";\nimport ChatWindow from \"./ChatWindow\";\nimport useMessages from \"../hooks/useMessages\";\nimport useSupportCases from \"../hooks/useSupportCases\";\nimport useAuthSession from \"../hooks/useAuthSession\";\nimport styles from \"../styles/Chat.module.css\";\n\nconst getQueryParam = (name) => {\n\treturn new URLSearchParams(window.location.search).get(name);\n};\n\nconst Chat = ({ selectedCaseId, onSelectCase }) => {\n\tconst [caseId, setCaseId] = useState(selectedCaseId || null);\n\tconst { session } = useAuthSession();\n\tconst { cases } = useSupportCases(session);\n\tconst { messages, refreshMessages, loading } = useMessages(caseId);\n\n\t// Detect ?case_id and ?hr_mode from query string\n\tuseEffect(() => {\n\t\tconst paramId = getQueryParam(\"case_id\");\n\n\t\tif (paramId && /^\\d+$/.test(paramId)) {\n\t\t\tsetCaseId(parseInt(paramId, 10));\n\t\t}\n\t}, []);\n\n\t// Auto-select first case if not loaded from query string\n\tuseEffect(() => {\n\t\tif (!caseId && cases.length > 0) {\n\t\t\tsetCaseId(cases[0].id);\n\t\t\tonSelectCase?.(cases[0].id);\n\t\t}\n\t}, [caseId, cases, onSelectCase]);\n\n\tconst handleSelectCase = (id) => {\n\t\tsetCaseId(id);\n\t\tonSelectCase?.(id);\n\t};\n\n\tif (!session) return null;\n\n\treturn (\n\t\t<div className={styles.container}>\n\t\t\t{/* ‚úÖ Show sidebar for both HR and employees */}\n\t\t\t<Sidebar onSelectCase={handleSelectCase} selectedCaseId={caseId} />\n\n\t\t\t<ChatWindow caseId={caseId} messages={messages} refreshMessages={refreshMessages} loading={loading} />\n\t\t</div>\n\t);\n};\n\nexport default Chat;\n","import React, { useContext, useEffect, useRef, useState } from \"react\";\nimport MessageInput from \"./MessageInput\";\nimport SessionContext from \"../contexts/SessionContext\";\nimport styles from \"../styles/ChatWindow.module.css\";\n\nconst ChatWindow = ({ caseId, messages, refreshMessages, loading }) => {\n\tconst { session } = useContext(SessionContext);\n\tconst messagesEndRef = useRef(null);\n\tconst [firstLoadDone, setFirstLoadDone] = useState(false);\n\tconst [statusMessage, setStatusMessage] = useState(null);\n\n\tconst refreshAndMarkReady = async () => {\n\t\tawait refreshMessages(caseId, session);\n\t\tif (!firstLoadDone) setFirstLoadDone(true);\n\t};\n\n\tuseEffect(() => {\n\t\tif (!caseId || !session) return;\n\t\trefreshAndMarkReady();\n\t}, [caseId, session]);\n\n\tuseEffect(() => {\n\t\tconst interval = setInterval(() => {\n\t\t\tif (document.visibilityState === \"visible\" && navigator.onLine) {\n\t\t\t\trefreshAndMarkReady();\n\t\t\t}\n\t\t}, 10000);\n\t\treturn () => clearInterval(interval);\n\t}, [caseId, session]);\n\n\tuseEffect(() => {\n\t\tif (messagesEndRef.current) {\n\t\t\tmessagesEndRef.current.scrollIntoView({ behavior: \"smooth\" });\n\t\t}\n\t}, [messages]);\n\n\tuseEffect(() => {\n\t\tconst handleVisibilityChange = () => {\n\t\t\tif (document.visibilityState === \"hidden\") {\n\t\t\t\tsetStatusMessage(\"Chat paused (tab inactive)\");\n\t\t\t} else if (!navigator.onLine) {\n\t\t\t\tsetStatusMessage(\"You are offline\");\n\t\t\t} else {\n\t\t\t\tsetStatusMessage(null);\n\t\t\t}\n\t\t};\n\n\t\tconst handleOnline = () => {\n\t\t\tif (document.visibilityState === \"visible\") {\n\t\t\t\tsetStatusMessage(null);\n\t\t\t}\n\t\t};\n\n\t\tdocument.addEventListener(\"visibilitychange\", handleVisibilityChange);\n\t\twindow.addEventListener(\"online\", handleOnline);\n\t\twindow.addEventListener(\"offline\", () => setStatusMessage(\"You are offline\"));\n\n\t\thandleVisibilityChange();\n\n\t\treturn () => {\n\t\t\tdocument.removeEventListener(\"visibilitychange\", handleVisibilityChange);\n\t\t\twindow.removeEventListener(\"online\", handleOnline);\n\t\t\twindow.removeEventListener(\"offline\", handleVisibilityChange);\n\t\t};\n\t}, []);\n\n\tif (!caseId) {\n\t\treturn <div className={styles.placeholder}>Select a case to view messages</div>;\n\t}\n\n\treturn (\n\t\t<div className={styles.chatContainer}>\n\t\t\t<div className={styles.messagesArea}>\n\t\t\t\t<div className={styles.messagesWrapper}>\n\t\t\t\t\t{!firstLoadDone ? (\n\t\t\t\t\t\t<p className={styles.loadingText}>Loading conversation‚Ä¶</p>\n\t\t\t\t\t) : messages.length === 0 ? (\n\t\t\t\t\t\t<p className={styles.emptyText}>No messages yet. Start the conversation!</p>\n\t\t\t\t\t) : null}\n\n\t\t\t\t\t{statusMessage && <div className={styles.statusMessage}>{statusMessage}</div>}\n\n\t\t\t\t\t{messages.map((msg, idx) => {\n\t\t\t\t\t\tif (msg.is_system) {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<div key={idx} className={styles.systemMessage}>\n\t\t\t\t\t\t\t\t\t{msg.content}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst bubbleClass = msg.is_hr ? styles.hrBubble : styles.userBubble;\n\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<div key={idx} className={styles.messageRow}>\n\t\t\t\t\t\t\t\t<div className={`${styles.bubble} ${bubbleClass}`}>\n\t\t\t\t\t\t\t\t\t<p>{msg.content}</p>\n\t\t\t\t\t\t\t\t\t{/* <p className={styles.meta}>\n\t\t\t\t\t\t\t\t\t\t{msg.author} ‚Ä¢ {new Date(msg.date).toLocaleTimeString()}\n\t\t\t\t\t\t\t\t\t</p> */}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\n\t\t\t\t\t<div ref={messagesEndRef} />\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className={styles.inputBar}>\n\t\t\t\t<div className={styles.inputWrapper}>\n\t\t\t\t\t<MessageInput caseId={caseId} refreshMessages={refreshMessages} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default ChatWindow;\n","import React, { useState, useContext, useEffect, useRef } from \"react\";\nimport SessionContext from \"../contexts/SessionContext\";\nimport { apiFetch } from \"../api/apiClient\";\nimport styles from \"../styles/MessageInput.module.css\";\n\nconst MessageInput = ({ caseId, refreshMessages }) => {\n\tconst [message, setMessage] = useState(\"\");\n\tconst [sending, setSending] = useState(false);\n\tconst { session } = useContext(SessionContext);\n\tconst textareaRef = useRef(null);\n\n\tuseEffect(() => {\n\t\ttextareaRef.current?.focus();\n\t}, [caseId]);\n\n\tconst handleResize = () => {\n\t\tconst el = textareaRef.current;\n\t\tif (el) {\n\t\t\tel.style.height = \"auto\";\n\t\t\tel.style.height = el.scrollHeight + \"px\";\n\t\t}\n\t};\n\n\tconst handleSubmit = async (e) => {\n\t\te.preventDefault();\n\t\tif (!message.trim()) return;\n\n\t\tsetSending(true);\n\t\ttry {\n\t\t\tawait apiFetch(`/support-cases/${caseId}/messages`, \"POST\", {\n\t\t\t\tmessage,\n\t\t\t\ttoken: session.token,\n\t\t\t\temail: session.email,\n\t\t\t\tfirst_name: session.firstName,\n\t\t\t\twebsite: \"\"\n\t\t\t});\n\n\t\t\tsetMessage(\"\");\n\t\t\tawait refreshMessages(caseId, session);\n\t\t\ttextareaRef.current?.focus();\n\t\t\thandleResize();\n\t\t} catch (err) {\n\t\t\talert(\"Failed to send message: \" + err.message);\n\t\t} finally {\n\t\t\tsetSending(false);\n\t\t}\n\t};\n\n\tconst handleKeyDown = (e) => {\n\t\tif (e.key === \"Enter\" && !e.shiftKey) {\n\t\t\te.preventDefault();\n\t\t\thandleSubmit(e);\n\t\t}\n\t};\n\n\tconst handleChange = (e) => {\n\t\tsetMessage(e.target.value);\n\t\thandleResize();\n\t};\n\n\treturn (\n\t\t<form onSubmit={handleSubmit} className={styles.form}>\n\t\t\t<div className={styles.inputWrapper}>\n\t\t\t\t<textarea\n\t\t\t\t\tref={textareaRef}\n\t\t\t\t\tvalue={message}\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\tonKeyDown={handleKeyDown}\n\t\t\t\t\tplaceholder=\"Type your message...\"\n\t\t\t\t\tclassName={styles.textarea}\n\t\t\t\t\trows={1}\n\t\t\t\t/>\n\t\t\t\t<button\n\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\tdisabled={sending || !message.trim()}\n\t\t\t\t\taria-label=\"Send message\"\n\t\t\t\t\tclassName={styles.sendButton}\n\t\t\t\t>\n\t\t\t\t\t<svg width=\"24\" height=\"24\" viewBox=\"0 0 32 32\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t\t\t\t\t<path\n\t\t\t\t\t\t\tfillRule=\"evenodd\"\n\t\t\t\t\t\t\tclipRule=\"evenodd\"\n\t\t\t\t\t\t\td=\"M15.1918 8.90615C15.6381 8.45983 16.3618 8.45983 16.8081 8.90615L21.9509 14.049C22.3972 14.4953 22.3972 15.2189 21.9509 15.6652C21.5046 16.1116 20.781 16.1116 20.3347 15.6652L17.1428 12.4734V22.2857C17.1428 22.9169 16.6311 23.4286 15.9999 23.4286C15.3688 23.4286 14.8571 22.9169 14.8571 22.2857V12.4734L11.6652 15.6652C11.2189 16.1116 10.4953 16.1116 10.049 15.6652C9.60265 15.2189 9.60265 14.4953 10.049 14.049L15.1918 8.90615Z\"\n\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</svg>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</form>\n\t);\n};\n\nexport default MessageInput;\n","import React, { useContext, useState, useEffect } from \"react\";\nimport SessionContext from \"../contexts/SessionContext\";\nimport { generateToken, copyToClipboard } from \"../utils/TokenUtils\";\nimport { apiFetch } from \"../api/apiClient\";\nimport styles from \"../styles/SessionGate.module.css\";\n\nconst SessionGate = ({ children }) => {\n\tconst { session, updateSession, ready } = useContext(SessionContext);\n\tconst [view, setView] = useState(\"mode\"); // mode | enter | create\n\tconst [form, setForm] = useState({ token: \"\", email: \"\", firstName: \"\" });\n\tconst [anonymous, setAnonymous] = useState(true);\n\tconst [generatedToken, setGeneratedToken] = useState(\"\");\n\n\tuseEffect(() => {\n\t\tif (view === \"create\" && anonymous) {\n\t\t\tconst token = generateToken();\n\t\t\tsetGeneratedToken(token);\n\t\t\tsetForm((f) => ({ ...f, token }));\n\t\t}\n\t}, [view, anonymous]);\n\n\tconst handleChange = (e) => {\n\t\tconst { name, value } = e.target;\n\t\tsetForm((prev) => ({ ...prev, [name]: value }));\n\t};\n\n\tconst handleSubmit = async (e) => {\n\t\te.preventDefault();\n\n\t\ttry {\n\t\t\tif (view === \"enter\") {\n\t\t\t\tif (anonymous && form.token.trim()) {\n\t\t\t\t\tupdateSession({ token: form.token.trim() });\n\t\t\t\t} else if (!anonymous && form.email && form.firstName) {\n\t\t\t\t\tupdateSession({\n\t\t\t\t\t\temail: form.email.trim(),\n\t\t\t\t\t\tfirstName: form.firstName.trim()\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (view === \"create\") {\n\t\t\t\tconst res = await apiFetch(\"/support-cases\", \"POST\", {\n\t\t\t\t\ttoken: anonymous ? generatedToken : undefined,\n\t\t\t\t\temail: anonymous ? \"\" : form.email.trim(),\n\t\t\t\t\tfirst_name: anonymous ? \"\" : form.firstName.trim(),\n\t\t\t\t\tanonymous\n\t\t\t\t});\n\n\t\t\t\tif (anonymous) {\n\t\t\t\t\tupdateSession({ token: res.token });\n\t\t\t\t} else {\n\t\t\t\t\tupdateSession({\n\t\t\t\t\t\temail: form.email.trim(),\n\t\t\t\t\t\tfirstName: form.firstName.trim()\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (err) {\n\t\t\talert(\"Failed to create or authenticate session: \" + err.message);\n\t\t}\n\t};\n\n\tif (!ready) return null;\n\tif (session?.token || (session?.email && session?.firstName)) return children;\n\n\treturn (\n\t\t<div className={styles.container}>\n\t\t\t{view === \"mode\" ? (\n\t\t\t\t<div className={styles.card}>\n\t\t\t\t\t<h2 className={styles.title}>How would you like to start?</h2>\n\t\t\t\t\t<div className={styles.buttonGroup}>\n\t\t\t\t\t\t<button onClick={() => setView(\"enter\")} className={styles.primaryButton}>\n\t\t\t\t\t\t\tüîê Enter Existing Conversation\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<button onClick={() => setView(\"create\")} className={styles.secondaryButton}>\n\t\t\t\t\t\t\t‚ú® Create New Conversation\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t) : (\n\t\t\t\t<form onSubmit={handleSubmit} className={styles.formCard}>\n\t\t\t\t\t<h2 className={styles.title}>Enter Your Chat Session</h2>\n\n\t\t\t\t\t<div className={styles.radioGroup}>\n\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t<input type=\"radio\" name=\"authMode\" checked={anonymous} onChange={() => setAnonymous(true)} /> Anonymous\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t<input type=\"radio\" name=\"authMode\" checked={!anonymous} onChange={() => setAnonymous(false)} />{\" \"}\n\t\t\t\t\t\t\tIdentified\n\t\t\t\t\t\t</label>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{view === \"enter\" && anonymous && (\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<label>Access Token</label>\n\t\t\t\t\t\t\t<input type=\"text\" name=\"token\" value={form.token} onChange={handleChange} className={styles.input} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{view === \"enter\" && !anonymous && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<label>Email</label>\n\t\t\t\t\t\t\t\t<input type=\"email\" name=\"email\" value={form.email} onChange={handleChange} className={styles.input} />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<label>First Name</label>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tname=\"firstName\"\n\t\t\t\t\t\t\t\t\tvalue={form.firstName}\n\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\tclassName={styles.input}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{view === \"create\" && anonymous && (\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<label>Your Access Token</label>\n\t\t\t\t\t\t\t<div className={styles.tokenRow}>\n\t\t\t\t\t\t\t\t<input type=\"text\" value={generatedToken} readOnly className={styles.tokenField} />\n\t\t\t\t\t\t\t\t<button type=\"button\" onClick={() => copyToClipboard(generatedToken)} className={styles.copyButton}>\n\t\t\t\t\t\t\t\t\tCopy\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<p className={styles.note}>Save this token to access the conversation again.</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{view === \"create\" && !anonymous && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<label>Email</label>\n\t\t\t\t\t\t\t\t<input type=\"email\" name=\"email\" value={form.email} onChange={handleChange} className={styles.input} />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<label>First Name</label>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tname=\"firstName\"\n\t\t\t\t\t\t\t\t\tvalue={form.firstName}\n\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\tclassName={styles.input}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\n\t\t\t\t\t<button type=\"submit\" className={styles.primaryButton}>\n\t\t\t\t\t\t{view === \"enter\" ? \"Continue\" : \"Start Conversation\"}\n\t\t\t\t\t</button>\n\n\t\t\t\t\t<div className={styles.backLink}>\n\t\t\t\t\t\t<button type=\"button\" onClick={() => setView(\"mode\")}>\n\t\t\t\t\t\t\t‚Üê Back\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</form>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport default SessionGate;\n","import React, { useContext } from \"react\";\nimport useSupportCases from \"../hooks/useSupportCases\";\nimport SessionContext from \"../contexts/SessionContext\";\nimport styles from \"../styles/Sidebar.module.css\";\n\nconst Sidebar = ({ selectedCaseId, onSelectCase }) => {\n\tconst { session } = useContext(SessionContext);\n\tconst { cases, loading, error } = useSupportCases(session);\n\n\treturn (\n\t\t<aside className={styles.sidebar}>\n\t\t\t<h2 className={styles.heading}>Support Cases</h2>\n\n\t\t\t{loading && <p className={styles.loading}>Loading‚Ä¶</p>}\n\t\t\t{error && <p className={styles.error}>{error}</p>}\n\n\t\t\t<ul className={styles.caseList}>\n\t\t\t\t{cases.map((c) => (\n\t\t\t\t\t<li\n\t\t\t\t\t\tkey={c.id}\n\t\t\t\t\t\tonClick={() => onSelectCase(c.id)}\n\t\t\t\t\t\tclassName={`${styles.caseItem} ${c.id === selectedCaseId ? styles.active : \"\"}`}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div className={styles.caseTitle}>{c.title}</div>\n\t\t\t\t\t\t<div className={styles.caseStatus}>{c.status}</div>\n\t\t\t\t\t</li>\n\t\t\t\t))}\n\t\t\t</ul>\n\t\t</aside>\n\t);\n};\n\nexport default Sidebar;\n","import React, { createContext, useState, useEffect } from \"react\";\n\nconst SessionContext = createContext();\n\nconst SESSION_KEY = \"hrsc_session\";\n\nexport const SessionProvider = ({ children }) => {\n\tconst [session, setSession] = useState(() => {\n\t\ttry {\n\t\t\tconst stored = localStorage.getItem(SESSION_KEY);\n\t\t\treturn stored ? JSON.parse(stored) : null;\n\t\t} catch {\n\t\t\treturn null;\n\t\t}\n\t});\n\n\tconst [ready, setReady] = useState(false);\n\n\tuseEffect(() => {\n\t\tif (session) {\n\t\t\tlocalStorage.setItem(SESSION_KEY, JSON.stringify(session));\n\t\t}\n\t\tsetReady(true);\n\t}, [session]);\n\n\treturn (\n\t\t<SessionContext.Provider\n\t\t\tvalue={{\n\t\t\t\tsession,\n\t\t\t\tupdateSession: (newSession) => setSession(newSession),\n\t\t\t\tready\n\t\t\t}}\n\t\t>\n\t\t\t{children}\n\t\t</SessionContext.Provider>\n\t);\n};\n\nexport default SessionContext;\n","import React, { createContext, useState } from \"react\";\n\nexport const ToastContext = createContext();\n\nexport const ToastProvider = ({ children }) => {\n\tconst [toast, setToast] = useState(null);\n\n\tconst showToast = (msg) => {\n\t\tsetToast(msg);\n\t\tsetTimeout(() => setToast(null), 3000);\n\t};\n\n\treturn (\n\t\t<ToastContext.Provider value={{ toast, showToast }}>\n\t\t\t{children}\n\t\t\t{toast && (\n\t\t\t\t<div className=\"absolute bottom-4 left-1/2 transform -translate-x-1/2 bg-black text-white text-sm px-4 py-2 rounded shadow z-50\">\n\t\t\t\t\t{toast}\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</ToastContext.Provider>\n\t);\n};\n\nexport default ToastContext;\n","import { useContext } from \"react\";\nimport SessionContext from \"../contexts/SessionContext\";\n\nconst useAuthSession = () => {\n\tconst { session, updateSession, ready } = useContext(SessionContext);\n\n\tconst isAuthenticated = !!(session?.token || (session?.email && session?.firstName));\n\n\treturn { session, updateSession, ready, isAuthenticated };\n};\n\nexport default useAuthSession;\n","import { useState, useEffect } from \"react\";\nimport { apiFetch } from \"../api/apiClient\";\n\nconst useMessages = (caseId) => {\n\tconst [messages, setMessages] = useState([]);\n\tconst [loading, setLoading] = useState(false);\n\n\tconst refreshMessages = async (caseId, session) => {\n\t\tif (!caseId || !session) return;\n\n\t\tsetLoading(true);\n\t\ttry {\n\t\t\tconst data = await apiFetch(`/support-cases/${caseId}/messages`, \"GET\", null, {\n\t\t\t\ttoken: session.token,\n\t\t\t\temail: session.email,\n\t\t\t\tfirst_name: session.firstName\n\t\t\t});\n\t\t\tsetMessages(data);\n\t\t} catch (err) {\n\t\t\tconsole.error(\"Failed to load messages:\", err);\n\t\t} finally {\n\t\t\tsetLoading(false);\n\t\t}\n\t};\n\n\t// Initial load handled by caller\n\n\treturn { messages, setMessages, refreshMessages, loading };\n};\n\nexport default useMessages;\n","import { useState, useEffect } from \"react\";\nimport { apiFetch } from \"../api/apiClient\";\n\nconst useSupportCases = (session) => {\n\tconst [cases, setCases] = useState([]);\n\tconst [loading, setLoading] = useState(true);\n\tconst [error, setError] = useState(null);\n\n\tuseEffect(() => {\n\t\tconst fetchCases = async () => {\n\t\t\tif (!session) return;\n\n\t\t\tsetLoading(true);\n\t\t\ttry {\n\t\t\t\t// For HR advisors, fetch all ‚Äî no query needed\n\t\t\t\tlet query = {};\n\t\t\t\tif (!session.isHR) {\n\t\t\t\t\t// For employees, use token/email combo\n\t\t\t\t\tquery = {\n\t\t\t\t\t\ttoken: session.token,\n\t\t\t\t\t\temail: session.email,\n\t\t\t\t\t\tfirst_name: session.firstName\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\tconst data = await apiFetch(\"/support-cases\", \"GET\", null, query);\n\t\t\t\tsetCases(data);\n\t\t\t} catch (err) {\n\t\t\t\tconsole.error(\"Failed to load support cases:\", err);\n\t\t\t\tsetError(\"Failed to load cases\");\n\t\t\t} finally {\n\t\t\t\tsetLoading(false);\n\t\t\t}\n\t\t};\n\n\t\tfetchCases();\n\t}, [session]);\n\n\treturn { cases, loading, error };\n};\n\nexport default useSupportCases;\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"Chat-module__container__n_3Bx\"};","// extracted by mini-css-extract-plugin\nexport default {\"chatContainer\":\"ChatWindow-module__chatContainer__uCAP1\",\"messagesArea\":\"ChatWindow-module__messagesArea__F6C1F\",\"messagesWrapper\":\"ChatWindow-module__messagesWrapper__DEOYW\",\"loadingText\":\"ChatWindow-module__loadingText__j6nWC\",\"emptyText\":\"ChatWindow-module__emptyText__BQpiu\",\"statusMessage\":\"ChatWindow-module__statusMessage__iuXg4\",\"systemMessage\":\"ChatWindow-module__systemMessage__dSfwQ\",\"messageRow\":\"ChatWindow-module__messageRow__AOX45\",\"bubble\":\"ChatWindow-module__bubble__UTa7U\",\"userBubble\":\"ChatWindow-module__userBubble__B1c74\",\"hrBubble\":\"ChatWindow-module__hrBubble__vmMRe\",\"meta\":\"ChatWindow-module__meta__CFypJ\",\"inputBar\":\"ChatWindow-module__inputBar__WY51T\",\"inputWrapper\":\"ChatWindow-module__inputWrapper__K6VK3\"};","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"MessageInput-module__form__JwsTx\",\"inputWrapper\":\"MessageInput-module__inputWrapper__f2dEV\",\"textarea\":\"MessageInput-module__textarea__KuTmN\",\"sendButton\":\"MessageInput-module__sendButton__rkM4Q\"};","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"SessionGate-module__container__kwA8r\",\"card\":\"SessionGate-module__card__rbOkx\",\"formCard\":\"SessionGate-module__formCard__hHQJ1\",\"title\":\"SessionGate-module__title__xUuH0\",\"buttonGroup\":\"SessionGate-module__buttonGroup__brFuP\",\"primaryButton\":\"SessionGate-module__primaryButton__QaDJM\",\"secondaryButton\":\"SessionGate-module__secondaryButton__YHsal\",\"radioGroup\":\"SessionGate-module__radioGroup__VSPiy\",\"input\":\"SessionGate-module__input__Jtz3L\",\"tokenRow\":\"SessionGate-module__tokenRow__FdS6b\",\"tokenField\":\"SessionGate-module__tokenField__jXhej\",\"copyButton\":\"SessionGate-module__copyButton__jCy26\",\"note\":\"SessionGate-module__note__UmNIu\",\"backLink\":\"SessionGate-module__backLink__OsoIz\"};","// extracted by mini-css-extract-plugin\nexport default {\"sidebar\":\"Sidebar-module__sidebar__eyeRU\",\"heading\":\"Sidebar-module__heading__JmCn3\",\"loading\":\"Sidebar-module__loading__n_qzF\",\"error\":\"Sidebar-module__error__Al9Ym\",\"caseList\":\"Sidebar-module__caseList__bO43P\",\"caseItem\":\"Sidebar-module__caseItem__VmHJT\",\"active\":\"Sidebar-module__active__fs957\",\"caseTitle\":\"Sidebar-module__caseTitle__dvjmp\",\"caseStatus\":\"Sidebar-module__caseStatus__CF0ig\"};","// extracted by mini-css-extract-plugin\nexport {};","export const generateToken = () => {\n\treturn Math.random().toString(36).substring(2, 10);\n};\n\nexport const copyToClipboard = async (text) => {\n\ttry {\n\t\tawait navigator.clipboard.writeText(text);\n\t\treturn true;\n\t} catch (err) {\n\t\tconsole.error(\"Failed to copy:\", err);\n\t\treturn false;\n\t}\n};\n","'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","module.exports = window[\"React\"];","module.exports = window[\"ReactDOM\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import React from \"react\";\nimport { createRoot } from \"react-dom/client\";\nimport App from \"./App\";\nimport \"./styles/index.css\"; // Tailwind + custom styles\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n\tconst rootEl = document.getElementById(\"hr-support-chat-app\");\n\tif (rootEl) {\n\t\tconst root = createRoot(rootEl);\n\t\troot.render(<App />);\n\t}\n});\n"],"names":["React","useState","Chat","SessionGate","SessionProvider","ToastProvider","App","selectedCaseId","setSelectedCaseId","createElement","onSelectCase","apiFetch","path","method","body","queryParams","restUrl","window","hrscChatVars","url","URL","Object","entries","forEach","key","value","undefined","searchParams","append","headers","nonce","response","fetch","toString","JSON","stringify","credentials","data","json","err","Error","ok","message","useEffect","Sidebar","ChatWindow","useMessages","useSupportCases","useAuthSession","styles","getQueryParam","name","URLSearchParams","location","search","get","caseId","setCaseId","session","cases","messages","refreshMessages","loading","paramId","test","parseInt","length","id","handleSelectCase","className","container","useContext","useRef","MessageInput","SessionContext","messagesEndRef","firstLoadDone","setFirstLoadDone","statusMessage","setStatusMessage","refreshAndMarkReady","interval","setInterval","document","visibilityState","navigator","onLine","clearInterval","current","scrollIntoView","behavior","handleVisibilityChange","handleOnline","addEventListener","removeEventListener","placeholder","chatContainer","messagesArea","messagesWrapper","loadingText","emptyText","map","msg","idx","is_system","systemMessage","content","bubbleClass","is_hr","hrBubble","userBubble","messageRow","bubble","ref","inputBar","inputWrapper","setMessage","sending","setSending","textareaRef","focus","handleResize","el","style","height","scrollHeight","handleSubmit","e","preventDefault","trim","token","email","first_name","firstName","website","alert","handleKeyDown","shiftKey","handleChange","target","onSubmit","form","onChange","onKeyDown","textarea","rows","type","disabled","sendButton","width","viewBox","fill","xmlns","fillRule","clipRule","d","generateToken","copyToClipboard","children","updateSession","ready","view","setView","setForm","anonymous","setAnonymous","generatedToken","setGeneratedToken","f","prev","res","card","title","buttonGroup","onClick","primaryButton","secondaryButton","formCard","radioGroup","checked","input","Fragment","tokenRow","readOnly","tokenField","copyButton","note","backLink","error","sidebar","heading","caseList","c","caseItem","active","caseTitle","caseStatus","status","createContext","SESSION_KEY","setSession","stored","localStorage","getItem","parse","setReady","setItem","Provider","newSession","ToastContext","toast","setToast","showToast","setTimeout","isAuthenticated","setMessages","setLoading","console","setCases","setError","fetchCases","query","isHR","Math","random","substring","text","clipboard","writeText","createRoot","rootEl","getElementById","root","render"],"sourceRoot":""}