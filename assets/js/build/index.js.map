{"version":3,"file":"index.js","mappings":"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","sources":["webpack://hr-support-chat/./assets/js/App.jsx","webpack://hr-support-chat/./assets/js/api/apiClient.js","webpack://hr-support-chat/./assets/js/components/Chat.jsx","webpack://hr-support-chat/./assets/js/components/ChatWindow.jsx","webpack://hr-support-chat/./assets/js/components/MessageInput.jsx","webpack://hr-support-chat/./assets/js/components/SessionGate.jsx","webpack://hr-support-chat/./assets/js/components/Sidebar.jsx","webpack://hr-support-chat/./assets/js/contexts/SessionContext.jsx","webpack://hr-support-chat/./assets/js/contexts/ToastContext.jsx","webpack://hr-support-chat/./assets/js/hooks/useMessages.js","webpack://hr-support-chat/./assets/js/hooks/useSupportCases.js","webpack://hr-support-chat/./assets/js/styles/index.css","webpack://hr-support-chat/./node_modules/react-dom/client.js","webpack://hr-support-chat/external window \"React\"","webpack://hr-support-chat/external window \"ReactDOM\"","webpack://hr-support-chat/webpack/bootstrap","webpack://hr-support-chat/webpack/runtime/compat get default export","webpack://hr-support-chat/webpack/runtime/define property getters","webpack://hr-support-chat/webpack/runtime/hasOwnProperty shorthand","webpack://hr-support-chat/webpack/runtime/make namespace object","webpack://hr-support-chat/./assets/js/index.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport Chat from \"./components/Chat\";\nimport SessionGate from \"./components/SessionGate\";\nimport { SessionProvider } from \"./contexts/SessionContext\";\nimport { ToastProvider } from \"./contexts/ToastContext\";\n\nconst App = () => {\n\tconst [selectedCaseId, setSelectedCaseId] = useState(null);\n\n\treturn (\n\t\t<SessionProvider>\n\t\t\t<ToastProvider>\n\t\t\t\t<SessionGate>\n\t\t\t\t\t<Chat selectedCaseId={selectedCaseId} onSelectCase={setSelectedCaseId} />\n\t\t\t\t</SessionGate>\n\t\t\t</ToastProvider>\n\t\t</SessionProvider>\n\t);\n};\n\nexport default App;\n","export const apiFetch = async (endpoint, method = \"GET\", body = null, params = {}) => {\n\tconst url = new URL(`${window.location.origin}/wp-json/hrsc/v1${endpoint}`);\n\n\tif (method === \"GET\" && params) {\n\t\tObject.entries(params).forEach(([key, value]) => {\n\t\t\tif (value !== undefined && value !== null) {\n\t\t\t\turl.searchParams.append(key, value);\n\t\t\t}\n\t\t});\n\t}\n\n\tconst response = await fetch(url.toString(), {\n\t\tmethod,\n\t\theaders: {\n\t\t\t\"Content-Type\": \"application/json\"\n\t\t},\n\t\tbody: body ? JSON.stringify(body) : null\n\t});\n\n\tconst result = await response.json();\n\tif (!response.ok) {\n\t\tthrow new Error(result?.message || \"Request failed\");\n\t}\n\treturn result;\n};\n","import React, { useState } from \"react\";\nimport Sidebar from \"./Sidebar\";\nimport ChatWindow from \"./ChatWindow\";\nimport useMessages from \"../hooks/useMessages\";\n\nconst Chat = ({ selectedCaseId, onSelectCase }) => {\n\tconst [caseId, setCaseId] = useState(selectedCaseId || null);\n\tconst { messages, refreshMessages, loading } = useMessages(caseId);\n\n\tconst handleSelectCase = (id) => {\n\t\tsetCaseId(id);\n\t\tonSelectCase?.(id);\n\t};\n\n\treturn (\n\t\t<div className=\"flex h-screen bg-gray-100\">\n\t\t\t<Sidebar onSelectCase={handleSelectCase} selectedCaseId={caseId} />\n\t\t\t<ChatWindow caseId={caseId} messages={messages} refreshMessages={refreshMessages} loading={loading} />\n\t\t</div>\n\t);\n};\n\nexport default Chat;\n","import React, { useContext, useEffect, useRef, useState } from \"react\";\nimport MessageInput from \"./MessageInput\";\nimport SessionContext from \"../contexts/SessionContext\";\n\nconst ChatWindow = ({ caseId, messages, refreshMessages, loading }) => {\n\tconst { session } = useContext(SessionContext);\n\tconst messagesEndRef = useRef(null);\n\tconst [firstLoadDone, setFirstLoadDone] = useState(false);\n\tconst [statusMessage, setStatusMessage] = useState(null);\n\n\tconst refreshAndMarkReady = async () => {\n\t\tawait refreshMessages(caseId, session);\n\t\tif (!firstLoadDone) setFirstLoadDone(true);\n\t};\n\n\tuseEffect(() => {\n\t\tif (!caseId || !session) return;\n\t\trefreshAndMarkReady();\n\t}, [caseId, session]);\n\n\tuseEffect(() => {\n\t\tconst interval = setInterval(() => {\n\t\t\tif (document.visibilityState === \"visible\" && navigator.onLine) {\n\t\t\t\trefreshAndMarkReady();\n\t\t\t}\n\t\t}, 10000);\n\t\treturn () => clearInterval(interval);\n\t}, [caseId, session]);\n\n\tuseEffect(() => {\n\t\tif (messagesEndRef.current) {\n\t\t\tmessagesEndRef.current.scrollIntoView({ behavior: \"smooth\" });\n\t\t}\n\t}, [messages]);\n\n\tuseEffect(() => {\n\t\tconst handleVisibilityChange = () => {\n\t\t\tif (document.visibilityState === \"hidden\") {\n\t\t\t\tsetStatusMessage(\"Chat paused (tab inactive)\");\n\t\t\t} else if (!navigator.onLine) {\n\t\t\t\tsetStatusMessage(\"You are offline\");\n\t\t\t} else {\n\t\t\t\tsetStatusMessage(null);\n\t\t\t}\n\t\t};\n\n\t\tconst handleOnline = () => {\n\t\t\tif (document.visibilityState === \"visible\") {\n\t\t\t\tsetStatusMessage(null);\n\t\t\t}\n\t\t};\n\n\t\tdocument.addEventListener(\"visibilitychange\", handleVisibilityChange);\n\t\twindow.addEventListener(\"online\", handleOnline);\n\t\twindow.addEventListener(\"offline\", () => setStatusMessage(\"You are offline\"));\n\n\t\thandleVisibilityChange();\n\n\t\treturn () => {\n\t\t\tdocument.removeEventListener(\"visibilitychange\", handleVisibilityChange);\n\t\t\twindow.removeEventListener(\"online\", handleOnline);\n\t\t\twindow.removeEventListener(\"offline\", handleVisibilityChange);\n\t\t};\n\t}, []);\n\n\tif (!caseId) {\n\t\treturn <div className=\"flex-1 flex items-center justify-center text-gray-500\">Select a case to view messages</div>;\n\t}\n\n\treturn (\n\t\t<div className=\"flex flex-col h-screen bg-gray-50 relative\">\n\t\t\t<div className=\"flex-1 overflow-y-auto py-6 px-4\">\n\t\t\t\t<div className=\"mx-auto max-w-2xl space-y-6\">\n\t\t\t\t\t{!firstLoadDone ? (\n\t\t\t\t\t\t<p className=\"text-center text-sm text-gray-400 italic\">Loading conversation…</p>\n\t\t\t\t\t) : messages.length === 0 ? (\n\t\t\t\t\t\t<p className=\"text-gray-400 text-center italic\">No messages yet. Start the conversation!</p>\n\t\t\t\t\t) : null}\n\n\t\t\t\t\t{statusMessage && <div className=\"text-center text-xs text-yellow-600 italic\">{statusMessage}</div>}\n\n\t\t\t\t\t{messages.map((msg, idx) => {\n\t\t\t\t\t\tif (msg.is_system) {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<div key={idx} className=\"text-center text-xs text-gray-400 italic\">\n\t\t\t\t\t\t\t\t\t{msg.content}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst bubbleClasses = msg.is_hr\n\t\t\t\t\t\t\t? \"bg-green-100 ml-auto text-gray-800\"\n\t\t\t\t\t\t\t: \"bg-white mr-auto border text-gray-800\";\n\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<div key={idx} className=\"w-full\">\n\t\t\t\t\t\t\t\t<div className={`max-w-[80%] px-4 py-3 rounded-xl shadow-sm ${bubbleClasses}`}>\n\t\t\t\t\t\t\t\t\t<p className=\"text-sm\">{msg.content}</p>\n\t\t\t\t\t\t\t\t\t<p className=\"text-[11px] text-gray-400 mt-1 text-right\">\n\t\t\t\t\t\t\t\t\t\t{msg.author} • {new Date(msg.date).toLocaleTimeString()}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\n\t\t\t\t\t<div ref={messagesEndRef} />\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"sticky bottom-0 bg-white border-t border-gray-200 w-full px-4 py-3\">\n\t\t\t\t<div className=\"max-w-2xl mx-auto\">\n\t\t\t\t\t<MessageInput caseId={caseId} refreshMessages={refreshMessages} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default ChatWindow;\n","import React, { useState, useContext, useEffect, useRef } from \"react\";\nimport SessionContext from \"../contexts/SessionContext\";\nimport { apiFetch } from \"../api/apiClient\";\n\nconst MessageInput = ({ caseId, refreshMessages }) => {\n\tconst [message, setMessage] = useState(\"\");\n\tconst [sending, setSending] = useState(false);\n\tconst { session } = useContext(SessionContext);\n\tconst textareaRef = useRef(null);\n\n\tuseEffect(() => {\n\t\ttextareaRef.current?.focus();\n\t}, [caseId]);\n\n\tconst handleResize = () => {\n\t\tconst el = textareaRef.current;\n\t\tif (el) {\n\t\t\tel.style.height = \"auto\";\n\t\t\tel.style.height = el.scrollHeight + \"px\";\n\t\t}\n\t};\n\n\tconst handleSubmit = async (e) => {\n\t\te.preventDefault();\n\t\tif (!message.trim()) return;\n\n\t\tsetSending(true);\n\t\ttry {\n\t\t\tawait apiFetch(`/support-cases/${caseId}/messages`, \"POST\", {\n\t\t\t\tmessage,\n\t\t\t\ttoken: session.token,\n\t\t\t\temail: session.email,\n\t\t\t\tfirst_name: session.firstName,\n\t\t\t\twebsite: \"\" // honeypot\n\t\t\t});\n\n\t\t\tsetMessage(\"\");\n\t\t\tawait refreshMessages(caseId, session);\n\t\t\ttextareaRef.current?.focus();\n\t\t\thandleResize();\n\t\t} catch (err) {\n\t\t\talert(\"Failed to send message: \" + err.message);\n\t\t} finally {\n\t\t\tsetSending(false);\n\t\t}\n\t};\n\n\tconst handleKeyDown = (e) => {\n\t\tif (e.key === \"Enter\" && !e.shiftKey) {\n\t\t\te.preventDefault();\n\t\t\thandleSubmit(e);\n\t\t}\n\t};\n\n\tconst handleChange = (e) => {\n\t\tsetMessage(e.target.value);\n\t\thandleResize();\n\t};\n\n\treturn (\n\t\t<form onSubmit={handleSubmit} className=\"w-full\">\n\t\t\t<div className=\"flex items-end rounded-[28px] border border-gray-300 bg-white shadow-md px-4 py-3 focus-within:ring-2 focus-within:ring-blue-500 transition-all\">\n\t\t\t\t<textarea\n\t\t\t\t\tref={textareaRef}\n\t\t\t\t\tvalue={message}\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\tonKeyDown={handleKeyDown}\n\t\t\t\t\tplaceholder=\"Type your message...\"\n\t\t\t\t\tclassName=\"flex-1 resize-none text-base placeholder-gray-400 bg-transparent border-0 focus:ring-0 focus:outline-none min-h-[48px] max-h-[300px] overflow-y-auto\"\n\t\t\t\t\trows={1}\n\t\t\t\t/>\n\n\t\t\t\t<button\n\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\tid=\"composer-submit-button\"\n\t\t\t\t\taria-label=\"Send message\"\n\t\t\t\t\tdisabled={sending || !message.trim()}\n\t\t\t\t\tclassName=\"flex items-center justify-center rounded-full h-9 w-9 transition-colors \n\t\t\t\t\t\tbg-black text-white hover:opacity-70 disabled:bg-gray-300 disabled:text-white \n\t\t\t\t\t\tdark:bg-white dark:text-black dark:disabled:bg-zinc-500 focus-visible:outline-none \n\t\t\t\t\t\tfocus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-black ml-3\"\n\t\t\t\t>\n\t\t\t\t\t<svg width=\"24\" height=\"24\" viewBox=\"0 0 32 32\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t\t\t\t\t<path\n\t\t\t\t\t\t\tfillRule=\"evenodd\"\n\t\t\t\t\t\t\tclipRule=\"evenodd\"\n\t\t\t\t\t\t\td=\"M15.1918 8.90615C15.6381 8.45983 16.3618 8.45983 16.8081 8.90615L21.9509 14.049C22.3972 14.4953 22.3972 15.2189 21.9509 15.6652C21.5046 16.1116 20.781 16.1116 20.3347 15.6652L17.1428 12.4734V22.2857C17.1428 22.9169 16.6311 23.4286 15.9999 23.4286C15.3688 23.4286 14.8571 22.9169 14.8571 22.2857V12.4734L11.6652 15.6652C11.2189 16.1116 10.4953 16.1116 10.049 15.6652C9.60265 15.2189 9.60265 14.4953 10.049 14.049L15.1918 8.90615Z\"\n\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</svg>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</form>\n\t);\n};\n\nexport default MessageInput;\n","import React, { useContext, useState } from \"react\";\nimport SessionContext from \"../contexts/SessionContext\";\n\nconst SessionGate = ({ children }) => {\n\tconst { session, updateSession, ready } = useContext(SessionContext);\n\tconst [form, setForm] = useState({ token: \"\", email: \"\", firstName: \"\" });\n\tconst [anonymous, setAnonymous] = useState(true);\n\n\tconst handleChange = (e) => {\n\t\tconst { name, value } = e.target;\n\t\tsetForm((prev) => ({ ...prev, [name]: value }));\n\t};\n\n\tconst handleSubmit = (e) => {\n\t\te.preventDefault();\n\n\t\tif (anonymous && form.token.trim()) {\n\t\t\tupdateSession({ token: form.token.trim() });\n\t\t} else if (!anonymous && form.email && form.firstName) {\n\t\t\tupdateSession({\n\t\t\t\temail: form.email.trim(),\n\t\t\t\tfirstName: form.firstName.trim()\n\t\t\t});\n\t\t}\n\t};\n\n\tif (!ready) return null;\n\n\tif (session?.token || (session?.email && session?.firstName)) {\n\t\treturn children;\n\t}\n\n\treturn (\n\t\t<div className=\"min-h-screen flex items-center justify-center bg-gray-100 px-4\">\n\t\t\t<form onSubmit={handleSubmit} className=\"bg-white p-6 rounded shadow w-full max-w-md\">\n\t\t\t\t<h2 className=\"text-lg font-semibold mb-4 text-center\">Enter Your Chat Session</h2>\n\n\t\t\t\t<div className=\"flex justify-center mb-4\">\n\t\t\t\t\t<label className=\"mr-4\">\n\t\t\t\t\t\t<input type=\"radio\" name=\"authMode\" checked={anonymous} onChange={() => setAnonymous(true)} /> Anonymous\n\t\t\t\t\t</label>\n\t\t\t\t\t<label>\n\t\t\t\t\t\t<input type=\"radio\" name=\"authMode\" checked={!anonymous} onChange={() => setAnonymous(false)} /> Identified\n\t\t\t\t\t</label>\n\t\t\t\t</div>\n\n\t\t\t\t{anonymous ? (\n\t\t\t\t\t<div className=\"mb-4\">\n\t\t\t\t\t\t<label className=\"block text-sm font-medium mb-1\">Access Token</label>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tname=\"token\"\n\t\t\t\t\t\t\tvalue={form.token}\n\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\tclassName=\"w-full border px-3 py-2 rounded\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t) : (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<div className=\"mb-4\">\n\t\t\t\t\t\t\t<label className=\"block text-sm font-medium mb-1\">Email</label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\t\tvalue={form.email}\n\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\tclassName=\"w-full border px-3 py-2 rounded\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"mb-4\">\n\t\t\t\t\t\t\t<label className=\"block text-sm font-medium mb-1\">First Name</label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tname=\"firstName\"\n\t\t\t\t\t\t\t\tvalue={form.firstName}\n\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\tclassName=\"w-full border px-3 py-2 rounded\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\n\t\t\t\t<button type=\"submit\" className=\"w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700\">\n\t\t\t\t\tContinue\n\t\t\t\t</button>\n\t\t\t</form>\n\t\t</div>\n\t);\n};\n\nexport default SessionGate;\n","import React, { useContext } from \"react\";\nimport useSupportCases from \"../hooks/useSupportCases\";\nimport SessionContext from \"../contexts/SessionContext\";\n\nconst Sidebar = ({ selectedCaseId, onSelectCase }) => {\n\tconst { session } = useContext(SessionContext);\n\tconst { cases, loading, error } = useSupportCases(session);\n\n\treturn (\n\t\t<aside className=\"w-1/4 bg-white border-r border-gray-200 p-4 overflow-y-auto\">\n\t\t\t<h2 className=\"text-xl font-semibold mb-4\">Support Cases</h2>\n\t\t\t{loading && <p className=\"text-gray-500\">Loading…</p>}\n\t\t\t{error && <p className=\"text-red-600\">{error}</p>}\n\t\t\t<ul className=\"space-y-2\">\n\t\t\t\t{cases.map((c) => (\n\t\t\t\t\t<li\n\t\t\t\t\t\tkey={c.id}\n\t\t\t\t\t\tonClick={() => onSelectCase(c.id)}\n\t\t\t\t\t\tclassName={`p-3 rounded cursor-pointer ${\n\t\t\t\t\t\t\tc.id === selectedCaseId ? \"bg-blue-100\" : \"bg-gray-100 hover:bg-gray-200\"\n\t\t\t\t\t\t}`}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div className=\"font-medium\">{c.title}</div>\n\t\t\t\t\t\t<div className=\"text-xs text-gray-500\">{c.status}</div>\n\t\t\t\t\t</li>\n\t\t\t\t))}\n\t\t\t</ul>\n\t\t</aside>\n\t);\n};\n\nexport default Sidebar;\n","import React, { createContext, useState, useEffect } from \"react\";\n\nconst SessionContext = createContext();\n\nconst SESSION_KEY = \"hrsc_session\";\n\nexport const SessionProvider = ({ children }) => {\n\tconst [session, setSession] = useState(() => {\n\t\ttry {\n\t\t\tconst stored = localStorage.getItem(SESSION_KEY);\n\t\t\treturn stored ? JSON.parse(stored) : null;\n\t\t} catch {\n\t\t\treturn null;\n\t\t}\n\t});\n\n\tconst [ready, setReady] = useState(false);\n\n\tuseEffect(() => {\n\t\tif (session) {\n\t\t\tlocalStorage.setItem(SESSION_KEY, JSON.stringify(session));\n\t\t}\n\t\tsetReady(true);\n\t}, [session]);\n\n\treturn (\n\t\t<SessionContext.Provider\n\t\t\tvalue={{\n\t\t\t\tsession,\n\t\t\t\tupdateSession: (newSession) => setSession(newSession),\n\t\t\t\tready\n\t\t\t}}\n\t\t>\n\t\t\t{children}\n\t\t</SessionContext.Provider>\n\t);\n};\n\nexport default SessionContext;\n","import React, { createContext, useState } from \"react\";\n\nexport const ToastContext = createContext();\n\nexport const ToastProvider = ({ children }) => {\n\tconst [toast, setToast] = useState(null);\n\n\tconst showToast = (msg) => {\n\t\tsetToast(msg);\n\t\tsetTimeout(() => setToast(null), 3000);\n\t};\n\n\treturn (\n\t\t<ToastContext.Provider value={{ toast, showToast }}>\n\t\t\t{children}\n\t\t\t{toast && (\n\t\t\t\t<div className=\"absolute bottom-4 left-1/2 transform -translate-x-1/2 bg-black text-white text-sm px-4 py-2 rounded shadow z-50\">\n\t\t\t\t\t{toast}\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</ToastContext.Provider>\n\t);\n};\n\nexport default ToastContext;\n","import { useState, useEffect } from \"react\";\nimport { apiFetch } from \"../api/apiClient\";\n\nconst useMessages = (caseId) => {\n\tconst [messages, setMessages] = useState([]);\n\tconst [loading, setLoading] = useState(false);\n\n\tconst refreshMessages = async (caseId, session) => {\n\t\tif (!caseId || !session) return;\n\n\t\tsetLoading(true);\n\t\ttry {\n\t\t\tconst data = await apiFetch(`/support-cases/${caseId}/messages`, \"GET\", null, {\n\t\t\t\ttoken: session.token,\n\t\t\t\temail: session.email,\n\t\t\t\tfirst_name: session.firstName\n\t\t\t});\n\t\t\tsetMessages(data);\n\t\t} catch (err) {\n\t\t\tconsole.error(\"Failed to load messages:\", err);\n\t\t} finally {\n\t\t\tsetLoading(false);\n\t\t}\n\t};\n\n\t// Initial load handled by caller\n\n\treturn { messages, setMessages, refreshMessages, loading };\n};\n\nexport default useMessages;\n","import { useState, useEffect } from \"react\";\nimport { apiFetch } from \"../api/apiClient\";\n\nconst useSupportCases = (session) => {\n\tconst [cases, setCases] = useState([]);\n\tconst [loading, setLoading] = useState(true);\n\tconst [error, setError] = useState(null);\n\n\tuseEffect(() => {\n\t\tconst fetchCases = async () => {\n\t\t\tif (!session) return;\n\n\t\t\tsetLoading(true);\n\t\t\ttry {\n\t\t\t\tconst data = await apiFetch(\"/support-cases\", \"GET\", null, {\n\t\t\t\t\ttoken: session.token,\n\t\t\t\t\temail: session.email,\n\t\t\t\t\tfirst_name: session.firstName\n\t\t\t\t});\n\t\t\t\tsetCases(data);\n\t\t\t} catch (err) {\n\t\t\t\tconsole.error(\"Failed to load support cases:\", err);\n\t\t\t\tsetError(\"Failed to load cases\");\n\t\t\t} finally {\n\t\t\t\tsetLoading(false);\n\t\t\t}\n\t\t};\n\n\t\tfetchCases();\n\t}, [session]);\n\n\treturn { cases, loading, error };\n};\n\nexport default useSupportCases;\n","// extracted by mini-css-extract-plugin\nexport {};","'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","module.exports = window[\"React\"];","module.exports = window[\"ReactDOM\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import React from \"react\";\nimport { createRoot } from \"react-dom/client\";\nimport App from \"./App\";\nimport \"./styles/index.css\"; // Tailwind + custom styles\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n\tconst rootEl = document.getElementById(\"hr-support-chat-app\");\n\tif (rootEl) {\n\t\tconst root = createRoot(rootEl);\n\t\troot.render(<App />);\n\t}\n});\n"],"names":["React","useState","Chat","SessionGate","SessionProvider","ToastProvider","App","selectedCaseId","setSelectedCaseId","createElement","onSelectCase","apiFetch","endpoint","method","body","params","url","URL","window","location","origin","Object","entries","forEach","key","value","undefined","searchParams","append","response","fetch","toString","headers","JSON","stringify","result","json","ok","Error","message","Sidebar","ChatWindow","useMessages","caseId","setCaseId","messages","refreshMessages","loading","handleSelectCase","id","className","useContext","useEffect","useRef","MessageInput","SessionContext","session","messagesEndRef","firstLoadDone","setFirstLoadDone","statusMessage","setStatusMessage","refreshAndMarkReady","interval","setInterval","document","visibilityState","navigator","onLine","clearInterval","current","scrollIntoView","behavior","handleVisibilityChange","handleOnline","addEventListener","removeEventListener","length","map","msg","idx","is_system","content","bubbleClasses","is_hr","author","Date","date","toLocaleTimeString","ref","setMessage","sending","setSending","textareaRef","focus","handleResize","el","style","height","scrollHeight","handleSubmit","e","preventDefault","trim","token","email","first_name","firstName","website","err","alert","handleKeyDown","shiftKey","handleChange","target","onSubmit","onChange","onKeyDown","placeholder","rows","type","disabled","width","viewBox","fill","xmlns","fillRule","clipRule","d","children","updateSession","ready","form","setForm","anonymous","setAnonymous","name","prev","checked","Fragment","useSupportCases","cases","error","c","onClick","title","status","createContext","SESSION_KEY","setSession","stored","localStorage","getItem","parse","setReady","setItem","Provider","newSession","ToastContext","toast","setToast","showToast","setTimeout","setMessages","setLoading","data","console","setCases","setError","fetchCases","createRoot","rootEl","getElementById","root","render"],"sourceRoot":""}